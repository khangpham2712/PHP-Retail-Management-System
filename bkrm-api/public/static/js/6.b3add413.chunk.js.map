{"version":3,"sources":["../node_modules/redux-undo/lib/index.js","../node_modules/redux-undo/lib/actions.js","../node_modules/redux-undo/lib/helpers.js","../node_modules/redux-undo/lib/debug.js","../../../../src/core/actions/helpers.ts","../../../../src/core/utils/mapNode.ts","../../../../src/core/actions/value.ts","../../../../../src/core/components/hooks/renderOptions.ts","../../../../../src/core/reducer/value/tree.ts","../../../../../src/core/reducer/values/index.ts","../../../../../src/core/reducer/value/index.ts","../../../../../src/core/reducer/focus/index.ts","../../../../src/core/reducer/index.ts","../../../../../src/core/reducer/display/index.ts","../../../../../src/core/reducer/settings/index.ts","../../../../../src/core/reducer/hover/index.ts","../node_modules/redux-undo/lib/reducer.js","../../../../../src/core/actions/cell/drag.ts","../../../src/core/reduxConnect.tsx","../../../../src/core/actions/display.ts","../../../../../src/core/selector/editable/index.ts","../../../src/core/const.ts","../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js","../../../src/core/defaultOptions.ts","../node_modules/react-dnd-html5-backend/dist/esm/index.js","../../../../src/core/selector/setting.ts","../../../../../src/core/components/hooks/options.ts","../../../../../src/core/actions/cell/core.ts","../../../../../src/core/actions/cell/insert.ts","../../../../src/core/utils/cloneWithNewIds.ts","../../../../src/core/actions/setting.ts","../../../src/core/EditorStore.ts","../../../src/core/store.ts"],"names":["Object","defineProperty","exports","value","enumerable","get","_actions","ActionTypes","ActionCreators","_helpers","parseActions","isHistory","includeAction","excludeAction","combineFilters","groupByActionTypes","newHistory","_reducer","obj","require","__esModule","UNDO","REDO","JUMP_TO_FUTURE","JUMP_TO_PAST","JUMP","CLEAR_HISTORY","undo","type","redo","jumpToFuture","index","jumpToPast","jump","clearHistory","rawActions","defaultValue","arguments","length","undefined","Array","isArray","history","present","future","past","actions","action","indexOf","_len","filters","_key","reduce","prev","curr","currentState","previousHistory","group","_latestUnfiltered","limit","_toConsumableArray","arr","i","arr2","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","__DEBUG__","displayBuffer","set","debug","start","state","header","next","msgs","console","colorFormat","colors","end","nextState","_displayBuffer","_console","_console2","_console3","_console4","_console5","groupCollapsed","apply","log","groupEnd","_console6","_console7","_console8","_console9","_console10","printBuffer","args","concat","text","color","generateIds","cell","createId","item","others","mapNode","node","mapper","depth","isRow","_a","skipMapRow","fullMapped","mappedChildren","_b","mappedNode","mapRow","cells","map","c","__assign","mapRowDown","_c","skipMapCell","_d","mapCell","rows","mapCellDown","UPDATE_VALUE","updateValue","ts","Date","ids","RenderOptionsContext","createContext","DEFAULT_RENDER_OPTIONS","useRenderOptions","useContext","useRenderOption","key","option","lastOption","useRef","deepEquals","current","newCells","id","CELL_RESIZE","resizeCells","CELL_INSERT_AT_END","CELL_INSERT_AS_NEW_ROW","CELL_INSERT_BELOW","CELL_INSERT_ABOVE","filter","CELL_INSERT_LEFT_OF","hoverId","inline","flatten","CELL_INSERT_RIGHT_OF","CELL_INSERT_INLINE_RIGHT","CELL_INSERT_INLINE_LEFT","size","hasInlineNeighbour","CELL_REMOVE","includes","reducedCells","s","a","optimizeCell","removeUndefinedProps","CELL_UPDATE_IS_DRAFT","reduced","lang","isDraftI18n","isDraft","CELL_UPDATE_DATA","newI18nData","dataI18n","emptyValue","data","__spreadArray","__read","_e","optimizeCells","row","optimizeRow","optimizeRows","r","isProduction","values","undoable","newRows","setAllSizesAndOptimize","notUndoable","neverSkipReducer","syncFilter","stateWithout","idsToRemove","nodeIds","n","reducer","combineReducers","display","mode","DEFAULT_DISPLAY_MODE","zoom","DISPLAY_SET_ZOOM","SET_DISPLAY_REFERENCE_NODE_ID","referenceNodeId","CELL_BLUR_ALL","SET_DISPLAY_MODE","focus","CELL_FOCUS","scrollToCell","getTime","CELL_BLUR","settings","SET_LANG","hover","CELL_DRAG_HOVER","nodeId","position","CLEAR_CLEAR_HOVER","__nodeCache","reactPage","initialState","_typeof","constructor","rawConfig","config","_objectSpread","groupBy","undoType","redoType","jumpToPastType","jumpToFutureType","jumpType","ignoreInitialState","initTypes","clearHistoryType","skipReducer","res","slices","_len2","_key2","createHistoryAction","createHistory","actionTypeAmongClearHistoryType","some","actionType","filtered","filteredState","groupedState","insert","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","hasOwnProperty","desc","_interopRequireWildcard","WeakMap","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","push","target","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","lengthWithoutFuture","isHistoryOverflow","pastSliced","slice","newPast","newPresent","newFuture","cellHover","drag","level","ancestorIds","Math","max","dragId","cellHoverLeftOf","PositionEnum","LEFT_OF","cellHoverRightOf","RIGHT_OF","cellHoverAbove","ABOVE","cellHoverBelow","BELOW","cellHoverInlineLeft","INLINE_LEFT","cellHoverInlineRight","INLINE_RIGHT","dragCell","clearHover","cancelCellDrag","ReduxContext","React","ReduxProvider","store","props","__rest","createElement","Provider","context","useDispatch","createStoreHook","createDispatchHook","useSelector","createSelectorHook","DISPLAY_MODE_PREVIEW","DISPLAY_MODE_LAYOUT","DISPLAY_MODE_EDIT","DISPLAY_MODE_INSERT","DISPLAY_MODE_RESIZING","setDisplayMode","setDisplayReferenceNodeId","setMode","editMode","setZoom","findNode","nodes","ancestors","nodes_1","__values","nodes_1_1","done","found","findNodeInState","result","isRoot","currentValue","process","memoize","fn","_defineProperties","descriptor","EnterLeaveCounter","isNodeInDocument","instance","Constructor","_classCallCheck","this","protoProps","staticProps","enteringNode","_this","previousLength","entered","itemsA","itemsB","Set","insertItem","add","union","contains","leavingNode","items","isFirefox","test","navigator","userAgent","isSafari","Boolean","window","safari","MonotonicInterpolant","xs","ys","indexes","sort","b","dx","dy","dys","dxs","ms","_i","c1s","_i2","m2","mNext","dxNext","common","m","c2s","c3s","_i3","c1","invDx","_common","x","mid","low","high","xHere","floor","diff","diffSq","getNodeClientOffset","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","top","left","y","getEventClientOffset","e","clientX","clientY","getDragPreviewOffset","sourceNode","dragPreview","clientOffset","anchorPoint","offsetPoint","isImage","_document$documentEle","nodeName","document","documentElement","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","offsetWidth","sourceHeight","offsetHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","width","dragPreviewHeight","height","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","calculateYOffset","_nativeTypesConfig","FILE","URL","TEXT","HTML","getDataFromDataTransfer","dataTransfer","typesToTry","resultSoFar","typeToTry","getData","nativeTypesConfig","NativeTypes","exposeProperties","files","_dataTransfer","matchesTypes","html","_dataTransfer2","urls","split","_dataTransfer3","_dataTransfer4","NativeDragSource","initializeExposedProperties","property","warn","_this2","newProperties","monitor","handle","getSourceId","matchNativeItemType","dataTransferTypes","types","nativeItemType","t","OptionsReader","globalContext","options","optionsArgs","_this$globalContext","_this$optionsArgs","rootElement","HTML5BackendImpl","manager","Map","sourceId","sourceNodes","isDraggingNativeItem","endDrag","currentNativeHandle","registry","removeSource","currentNativeSource","body","currentDragSourceNode","clearCurrentDragSourceNode","isDragging","dragStartSourceIds","defaultPrevented","beginDrag","publishSource","getSourceClientOffset","nativeType","setDragImage","sourcePreviewNodes","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","err","setCurrentDragSourceNode","captureDraggingState","publishDragSource","setTimeout","beginDragNativeItem","hasAttribute","preventDefault","dragEnterTargetIds","enterLeaveCounter","enter","altKeyPressed","altKey","targetId","canDropOnTarget","dropEffect","getCurrentDropEffect","dragOverTargetIds","lastClientOffset","hoverRafId","requestAnimationFrame","leave","endDragNativeItem","_this$currentNativeSo","dropTargetIds","loadDataTransfer","reset","drop","dragDrop","tagName","isContentEditable","getActions","getMonitor","getRegistry","_this$dragStartSource","_this$dragOverTargetI","sourcePreviewNodeOptions","sourceNodeOptions","root","__isReactDndBackendSetUp","Error","addEventListeners","_this$window","removeEventListeners","asyncEndDragFrameId","cancelAnimationFrame","delete","_this3","handleDragStart","handleSelectStart","setAttribute","addEventListener","removeEventListener","_this4","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","itemType","getItemType","createNativeDragSource","addSource","_this5","mouseMoveTimeoutTimer","_this5$rootElement","endDragIfSourceWasRemovedFromDOM","_this$window2","clearTimeout","unshift","DEFAULT_OPTIONS","allowMoveInEditMode","allowResizeInEditMode","childConstraints","components","languages","uiTranslator","zoomEnabled","zoomFactors","undoRedoEnabled","editEnabled","insertEnabled","layoutEnabled","resizeEnabled","previewEnabled","dndBackend","blurGateDefaultMode","blurGateDisabled","middleware","hideEditorSidebar","showMoveButtonsInBottomToolbar","showMoveButtonsInLayoutMode","sidebarPosition","customOptions","cellPlugins","cellSpacing","getLang","useEditorStore","EditorContext","OptionsContext","useOption","useUiTranslator","useLang","useCellSpacing","normalizeCellSpacing","useCellSpacingProvider","renderOptions","useMemo","JSON","stringify","NoopProvider","updateCellIsDraft","updateCellData","removeCells","resizeCell","focusCell","blurCell","blurAllCells","createRow","partialRow","createCell","partialCell","pluginId","plugin","find","p","partialRows","createInitialChildren","_j","_g","_f","createInitialData","_h","createInitialState","_k","_l","version","getChildCellPlugins","getCellData","insertOptions","isNew","insertFullCell","focusAfter","l","insertAction","dispatch","insertCellBelow","insertCellAbove","insertCellRightOf","insertCellLeftOf","insertCellLeftInline","insertCellRightInline","insertCellAtTheEnd","insertCellNewAsNewRow","duplicateNode","duplicateCell","cellWithNewIds","cloneWithNewIds","insertAfterNodeId","levels","parse","cloneAsCell","setLang","EditorStore","getNodeWithAncestors","getState","getNode","v","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","rootReducer","applyMiddleware","thunk","createEmptyState"],"mappings":"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","file":"static/js/6.b3add413.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ActionTypes\", {\n  enumerable: true,\n  get: function get() {\n    return _actions.ActionTypes;\n  }\n});\nObject.defineProperty(exports, \"ActionCreators\", {\n  enumerable: true,\n  get: function get() {\n    return _actions.ActionCreators;\n  }\n});\nObject.defineProperty(exports, \"parseActions\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.parseActions;\n  }\n});\nObject.defineProperty(exports, \"isHistory\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.isHistory;\n  }\n});\nObject.defineProperty(exports, \"includeAction\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.includeAction;\n  }\n});\nObject.defineProperty(exports, \"excludeAction\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.excludeAction;\n  }\n});\nObject.defineProperty(exports, \"combineFilters\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.combineFilters;\n  }\n});\nObject.defineProperty(exports, \"groupByActionTypes\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.groupByActionTypes;\n  }\n});\nObject.defineProperty(exports, \"newHistory\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.newHistory;\n  }\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _reducer[\"default\"];\n  }\n});\n\nvar _actions = require(\"./actions\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _reducer = _interopRequireDefault(require(\"./reducer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ActionCreators = exports.ActionTypes = void 0;\nvar ActionTypes = {\n  UNDO: '@@redux-undo/UNDO',\n  REDO: '@@redux-undo/REDO',\n  JUMP_TO_FUTURE: '@@redux-undo/JUMP_TO_FUTURE',\n  JUMP_TO_PAST: '@@redux-undo/JUMP_TO_PAST',\n  JUMP: '@@redux-undo/JUMP',\n  CLEAR_HISTORY: '@@redux-undo/CLEAR_HISTORY'\n};\nexports.ActionTypes = ActionTypes;\nvar ActionCreators = {\n  undo: function undo() {\n    return {\n      type: ActionTypes.UNDO\n    };\n  },\n  redo: function redo() {\n    return {\n      type: ActionTypes.REDO\n    };\n  },\n  jumpToFuture: function jumpToFuture(index) {\n    return {\n      type: ActionTypes.JUMP_TO_FUTURE,\n      index: index\n    };\n  },\n  jumpToPast: function jumpToPast(index) {\n    return {\n      type: ActionTypes.JUMP_TO_PAST,\n      index: index\n    };\n  },\n  jump: function jump(index) {\n    return {\n      type: ActionTypes.JUMP,\n      index: index\n    };\n  },\n  clearHistory: function clearHistory() {\n    return {\n      type: ActionTypes.CLEAR_HISTORY\n    };\n  }\n};\nexports.ActionCreators = ActionCreators;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseActions = parseActions;\nexports.isHistory = isHistory;\nexports.includeAction = includeAction;\nexports.excludeAction = excludeAction;\nexports.combineFilters = combineFilters;\nexports.groupByActionTypes = groupByActionTypes;\nexports.newHistory = newHistory;\n\n// parseActions helper: takes a string (or array)\n//                      and makes it an array if it isn't yet\nfunction parseActions(rawActions) {\n  var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (Array.isArray(rawActions)) {\n    return rawActions;\n  } else if (typeof rawActions === 'string') {\n    return [rawActions];\n  }\n\n  return defaultValue;\n} // isHistory helper: check for a valid history object\n\n\nfunction isHistory(history) {\n  return typeof history.present !== 'undefined' && typeof history.future !== 'undefined' && typeof history.past !== 'undefined' && Array.isArray(history.future) && Array.isArray(history.past);\n} // includeAction helper: whitelist actions to be added to the history\n\n\nfunction includeAction(rawActions) {\n  var actions = parseActions(rawActions);\n  return function (action) {\n    return actions.indexOf(action.type) >= 0;\n  };\n} // excludeAction helper: blacklist actions from being added to the history\n\n\nfunction excludeAction(rawActions) {\n  var actions = parseActions(rawActions);\n  return function (action) {\n    return actions.indexOf(action.type) < 0;\n  };\n} // combineFilters helper: combine multiple filters to one\n\n\nfunction combineFilters() {\n  for (var _len = arguments.length, filters = new Array(_len), _key = 0; _key < _len; _key++) {\n    filters[_key] = arguments[_key];\n  }\n\n  return filters.reduce(function (prev, curr) {\n    return function (action, currentState, previousHistory) {\n      return prev(action, currentState, previousHistory) && curr(action, currentState, previousHistory);\n    };\n  }, function () {\n    return true;\n  });\n}\n\nfunction groupByActionTypes(rawActions) {\n  var actions = parseActions(rawActions);\n  return function (action) {\n    return actions.indexOf(action.type) >= 0 ? action.type : null;\n  };\n}\n\nfunction newHistory(past, present, future) {\n  var group = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  return {\n    past: past,\n    present: present,\n    future: future,\n    group: group,\n    _latestUnfiltered: present,\n    index: past.length,\n    limit: past.length + future.length + 1\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.set = set;\nexports.start = start;\nexports.end = end;\nexports.log = log;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar __DEBUG__;\n\nvar displayBuffer;\nvar colors = {\n  prevState: '#9E9E9E',\n  action: '#03A9F4',\n  nextState: '#4CAF50'\n};\n/* istanbul ignore next: debug messaging is not tested */\n\nfunction initBuffer() {\n  displayBuffer = {\n    header: [],\n    prev: [],\n    action: [],\n    next: [],\n    msgs: []\n  };\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction printBuffer() {\n  var _displayBuffer = displayBuffer,\n      header = _displayBuffer.header,\n      prev = _displayBuffer.prev,\n      next = _displayBuffer.next,\n      action = _displayBuffer.action,\n      msgs = _displayBuffer.msgs;\n\n  if (console.group) {\n    var _console, _console2, _console3, _console4, _console5;\n\n    (_console = console).groupCollapsed.apply(_console, _toConsumableArray(header));\n\n    (_console2 = console).log.apply(_console2, _toConsumableArray(prev));\n\n    (_console3 = console).log.apply(_console3, _toConsumableArray(action));\n\n    (_console4 = console).log.apply(_console4, _toConsumableArray(next));\n\n    (_console5 = console).log.apply(_console5, _toConsumableArray(msgs));\n\n    console.groupEnd();\n  } else {\n    var _console6, _console7, _console8, _console9, _console10;\n\n    (_console6 = console).log.apply(_console6, _toConsumableArray(header));\n\n    (_console7 = console).log.apply(_console7, _toConsumableArray(prev));\n\n    (_console8 = console).log.apply(_console8, _toConsumableArray(action));\n\n    (_console9 = console).log.apply(_console9, _toConsumableArray(next));\n\n    (_console10 = console).log.apply(_console10, _toConsumableArray(msgs));\n  }\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction colorFormat(text, color, obj) {\n  return [\"%c\".concat(text), \"color: \".concat(color, \"; font-weight: bold\"), obj];\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction start(action, state) {\n  initBuffer();\n\n  if (__DEBUG__) {\n    if (console.group) {\n      displayBuffer.header = ['%credux-undo', 'font-style: italic', 'action', action.type];\n      displayBuffer.action = colorFormat('action', colors.action, action);\n      displayBuffer.prev = colorFormat('prev history', colors.prevState, state);\n    } else {\n      displayBuffer.header = ['redux-undo action', action.type];\n      displayBuffer.action = ['action', action];\n      displayBuffer.prev = ['prev history', state];\n    }\n  }\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction end(nextState) {\n  if (__DEBUG__) {\n    if (console.group) {\n      displayBuffer.next = colorFormat('next history', colors.nextState, nextState);\n    } else {\n      displayBuffer.next = ['next history', nextState];\n    }\n\n    printBuffer();\n  }\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction log() {\n  if (__DEBUG__) {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    displayBuffer.msgs = displayBuffer.msgs.concat([].concat(args, ['\\n']));\n  }\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction set(debug) {\n  __DEBUG__ = debug;\n}",null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undoable;\n\nvar debug = _interopRequireWildcard(require(\"./debug\"));\n\nvar _actions = require(\"./actions\");\n\nvar _helpers = require(\"./helpers\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction createHistory(state, ignoreInitialState) {\n  // ignoreInitialState essentially prevents the user from undoing to the\n  // beginning, in the case that the undoable reducer handles initialization\n  // in a way that can't be redone simply\n  var history = (0, _helpers.newHistory)([], state, []);\n\n  if (ignoreInitialState) {\n    history._latestUnfiltered = null;\n  }\n\n  return history;\n} // insert: insert `state` into history, which means adding the current state\n//         into `past`, setting the new `state` as `present` and erasing\n//         the `future`.\n\n\nfunction insert(history, state, limit, group) {\n  var lengthWithoutFuture = history.past.length + 1;\n  debug.log('inserting', state);\n  debug.log('new free: ', limit - lengthWithoutFuture);\n  var past = history.past,\n      _latestUnfiltered = history._latestUnfiltered;\n  var isHistoryOverflow = limit && limit <= lengthWithoutFuture;\n  var pastSliced = past.slice(isHistoryOverflow ? 1 : 0);\n  var newPast = _latestUnfiltered != null ? [].concat(_toConsumableArray(pastSliced), [_latestUnfiltered]) : pastSliced;\n  return (0, _helpers.newHistory)(newPast, state, [], group);\n} // jumpToFuture: jump to requested index in future history\n\n\nfunction jumpToFuture(history, index) {\n  if (index < 0 || index >= history.future.length) return history;\n  var past = history.past,\n      future = history.future,\n      _latestUnfiltered = history._latestUnfiltered;\n  var newPast = [].concat(_toConsumableArray(past), [_latestUnfiltered], _toConsumableArray(future.slice(0, index)));\n  var newPresent = future[index];\n  var newFuture = future.slice(index + 1);\n  return (0, _helpers.newHistory)(newPast, newPresent, newFuture);\n} // jumpToPast: jump to requested index in past history\n\n\nfunction jumpToPast(history, index) {\n  if (index < 0 || index >= history.past.length) return history;\n  var past = history.past,\n      future = history.future,\n      _latestUnfiltered = history._latestUnfiltered;\n  var newPast = past.slice(0, index);\n  var newFuture = [].concat(_toConsumableArray(past.slice(index + 1)), [_latestUnfiltered], _toConsumableArray(future));\n  var newPresent = past[index];\n  return (0, _helpers.newHistory)(newPast, newPresent, newFuture);\n} // jump: jump n steps in the past or forward\n\n\nfunction jump(history, n) {\n  if (n > 0) return jumpToFuture(history, n - 1);\n  if (n < 0) return jumpToPast(history, history.past.length + n);\n  return history;\n} // helper to dynamically match in the reducer's switch-case\n\n\nfunction actionTypeAmongClearHistoryType(actionType, clearHistoryType) {\n  return clearHistoryType.indexOf(actionType) > -1 ? actionType : !actionType;\n} // redux-undo higher order reducer\n\n\nfunction undoable(reducer) {\n  var rawConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  debug.set(rawConfig.debug);\n\n  var config = _objectSpread({\n    limit: undefined,\n    filter: function filter() {\n      return true;\n    },\n    groupBy: function groupBy() {\n      return null;\n    },\n    undoType: _actions.ActionTypes.UNDO,\n    redoType: _actions.ActionTypes.REDO,\n    jumpToPastType: _actions.ActionTypes.JUMP_TO_PAST,\n    jumpToFutureType: _actions.ActionTypes.JUMP_TO_FUTURE,\n    jumpType: _actions.ActionTypes.JUMP,\n    neverSkipReducer: false,\n    ignoreInitialState: false,\n    syncFilter: false\n  }, rawConfig, {\n    initTypes: (0, _helpers.parseActions)(rawConfig.initTypes, ['@@redux-undo/INIT']),\n    clearHistoryType: (0, _helpers.parseActions)(rawConfig.clearHistoryType, [_actions.ActionTypes.CLEAR_HISTORY])\n  }); // Allows the user to call the reducer with redux-undo specific actions\n\n\n  var skipReducer = config.neverSkipReducer ? function (res, action) {\n    for (var _len = arguments.length, slices = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      slices[_key - 2] = arguments[_key];\n    }\n\n    return _objectSpread({}, res, {\n      present: reducer.apply(void 0, [res.present, action].concat(slices))\n    });\n  } : function (res) {\n    return res;\n  };\n  var initialState;\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    debug.start(action, state);\n    var history = state;\n\n    for (var _len2 = arguments.length, slices = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      slices[_key2 - 2] = arguments[_key2];\n    }\n\n    if (!initialState) {\n      debug.log('history is uninitialized');\n\n      if (state === undefined) {\n        var createHistoryAction = {\n          type: '@@redux-undo/CREATE_HISTORY'\n        };\n        var start = reducer.apply(void 0, [state, createHistoryAction].concat(slices));\n        history = createHistory(start, config.ignoreInitialState);\n        debug.log('do not set initialState on probe actions');\n        debug.end(history);\n        return history;\n      } else if ((0, _helpers.isHistory)(state)) {\n        history = initialState = config.ignoreInitialState ? state : (0, _helpers.newHistory)(state.past, state.present, state.future);\n        debug.log('initialHistory initialized: initialState is a history', initialState);\n      } else {\n        history = initialState = createHistory(state, config.ignoreInitialState);\n        debug.log('initialHistory initialized: initialState is not a history', initialState);\n      }\n    }\n\n    var res;\n\n    switch (action.type) {\n      case undefined:\n        return history;\n\n      case config.undoType:\n        res = jump(history, -1);\n        debug.log('perform undo');\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case config.redoType:\n        res = jump(history, 1);\n        debug.log('perform redo');\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case config.jumpToPastType:\n        res = jumpToPast(history, action.index);\n        debug.log(\"perform jumpToPast to \".concat(action.index));\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case config.jumpToFutureType:\n        res = jumpToFuture(history, action.index);\n        debug.log(\"perform jumpToFuture to \".concat(action.index));\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case config.jumpType:\n        res = jump(history, action.index);\n        debug.log(\"perform jump to \".concat(action.index));\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case actionTypeAmongClearHistoryType(action.type, config.clearHistoryType):\n        res = createHistory(history.present, config.ignoreInitialState);\n        debug.log('perform clearHistory');\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      default:\n        res = reducer.apply(void 0, [history.present, action].concat(slices));\n\n        if (config.initTypes.some(function (actionType) {\n          return actionType === action.type;\n        })) {\n          debug.log('reset history due to init action');\n          debug.end(initialState);\n          return initialState;\n        }\n\n        if (history._latestUnfiltered === res) {\n          // Don't handle this action. Do not call debug.end here,\n          // because this action should not produce side effects to the console\n          return history;\n        }\n        /* eslint-disable-next-line no-case-declarations */\n\n\n        var filtered = typeof config.filter === 'function' && !config.filter(action, res, history);\n\n        if (filtered) {\n          // if filtering an action, merely update the present\n          var filteredState = (0, _helpers.newHistory)(history.past, res, history.future, history.group);\n\n          if (!config.syncFilter) {\n            filteredState._latestUnfiltered = history._latestUnfiltered;\n          }\n\n          debug.log('filter ignored action, not storing it in past');\n          debug.end(filteredState);\n          return filteredState;\n        }\n        /* eslint-disable-next-line no-case-declarations */\n\n\n        var group = config.groupBy(action, res, history);\n\n        if (group != null && group === history.group) {\n          // if grouping with the previous action, only update the present\n          var groupedState = (0, _helpers.newHistory)(history.past, res, history.future, history.group);\n          debug.log('groupBy grouped the action with the previous action');\n          debug.end(groupedState);\n          return groupedState;\n        } // If the action wasn't filtered or grouped, insert normally\n\n\n        history = insert(history, res, config.limit, group);\n        debug.log('inserted new state into history');\n        debug.end(history);\n        return history;\n    }\n  };\n}",null,null,null,null,null,"// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { union, without } from './utils/js_utils';\nexport var EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    _defineProperty(this, \"entered\", []);\n\n    _defineProperty(this, \"isNodeInDocument\", void 0);\n\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    _defineProperty(this, \"xs\", void 0);\n\n    _defineProperty(this, \"ys\", void 0);\n\n    _defineProperty(this, \"c1s\", void 0);\n\n    _defineProperty(this, \"c2s\", void 0);\n\n    _defineProperty(this, \"c3s\", void 0);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();","import { isSafari, isFirefox } from './BrowserDetector';\nimport { MonotonicInterpolant } from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) !== null && _document$documentEle !== void 0 && _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';\nexport var HTML = '__NATIVE_HTML__';","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    },\n    dataTransfer: function dataTransfer(_dataTransfer) {\n      return _dataTransfer;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.HTML, {\n  exposeProperties: {\n    html: function html(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer2) {\n      return _dataTransfer2;\n    }\n  },\n  matchesTypes: ['Html', 'text/html']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer3) {\n      return _dataTransfer3;\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer4) {\n      return _dataTransfer4;\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    _defineProperty(this, \"item\", void 0);\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext, options) {\n    _classCallCheck(this, OptionsReader);\n\n    _defineProperty(this, \"ownerDocument\", null);\n\n    _defineProperty(this, \"globalContext\", void 0);\n\n    _defineProperty(this, \"optionsArgs\", void 0);\n\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$globalContext;\n\n      if ((_this$globalContext = this.globalContext) !== null && _this$globalContext !== void 0 && _this$globalContext.document) {\n        return this.globalContext.document;\n      } else if (this.window) {\n        return this.window.document;\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$optionsArgs;\n\n      return ((_this$optionsArgs = this.optionsArgs) === null || _this$optionsArgs === void 0 ? void 0 : _this$optionsArgs.rootElement) || this.window;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    _defineProperty(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty(this, \"sourceNodes\", new Map());\n\n    _defineProperty(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty(this, \"dragStartSourceIds\", null);\n\n    _defineProperty(this, \"dropTargetIds\", []);\n\n    _defineProperty(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty(this, \"currentNativeSource\", null);\n\n    _defineProperty(this, \"currentNativeHandle\", null);\n\n    _defineProperty(this, \"currentDragSourceNode\", null);\n\n    _defineProperty(this, \"altKeyPressed\", false);\n\n    _defineProperty(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty(this, \"dragOverTargetIds\", null);\n\n    _defineProperty(this, \"lastClientOffset\", null);\n\n    _defineProperty(this, \"hoverRafId\", null);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    });\n\n    _defineProperty(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n      _this.lastClientOffset = getEventClientOffset(e);\n\n      if (_this.hoverRafId === null && typeof requestAnimationFrame !== 'undefined') {\n        _this.hoverRafId = requestAnimationFrame(function () {\n          if (_this.monitor.isDragging()) {\n            _this.actions.hover(dragOverTargetIds || [], {\n              clientOffset: _this.lastClientOffset\n            });\n          }\n\n          _this.hoverRafId = null;\n        });\n      }\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();",null,"import { HTML5BackendImpl } from './HTML5BackendImpl';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\nexport var HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};",null,null,null,null,null,null,null,null],"sourceRoot":""}