/*! For license information please see 0.6a21c0a8.chunk.js.LICENSE.txt */
(this.webpackJsonpbkrm_thesis=this.webpackJsonpbkrm_thesis||[]).push([[0],{271:function(e,t,n){"use strict";n.r(t),n.d(t,"Editor",(function(){return Ye})),n.d(t,"Element",(function(){return Le})),n.d(t,"Location",(function(){return Ze})),n.d(t,"Node",(function(){return nt})),n.d(t,"Operation",(function(){return it})),n.d(t,"Path",(function(){return at})),n.d(t,"PathRef",(function(){return st})),n.d(t,"Point",(function(){return ft})),n.d(t,"PointRef",(function(){return lt})),n.d(t,"Range",(function(){return ht})),n.d(t,"RangeRef",(function(){return pt})),n.d(t,"Span",(function(){return Xe})),n.d(t,"Text",(function(){return jt})),n.d(t,"Transforms",(function(){return It})),n.d(t,"createEditor",(function(){return ye}));var r=n(19),o=n.n(r),i=n(218),a=n(80),s=n(81),c=n(418);function u(e){return"[object Object]"===Object.prototype.toString.call(e)}function f(e){var t,n;return!1!==u(e)&&(void 0===(t=e.constructor)||!1!==u(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function d(e){return!!e&&!!e[X]}function v(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===H}(e)||Array.isArray(e)||!!e[Z]||!!e.constructor[Z]||O(e)||j(e))}function h(e,t,n){void 0===n&&(n=!1),0===p(e)?(n?Object.keys:ee)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function p(e){var t=e[X];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:O(e)?2:j(e)?3:0}function g(e,t){return 2===p(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function b(e,t){return 2===p(e)?e.get(t):e[t]}function m(e,t,n){var r=p(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function y(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function O(e){return U&&e instanceof Map}function j(e){return $&&e instanceof Set}function w(e){return e.o||e.t}function x(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=te(e);delete t[X];for(var n=ee(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function P(e,t){return void 0===t&&(t=!1),A(e)||d(e)||!v(e)||(p(e)>1&&(e.set=e.add=e.clear=e.delete=k),Object.freeze(e),t&&h(e,(function(e,t){return P(t,!0)}),!0)),e}function k(){l(2)}function A(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function E(e){var t=ne[e];return t||l(18,e),t}function F(){return K}function N(e,t){t&&(E("Patches"),e.u=[],e.s=[],e.v=t)}function D(e){C(e),e.p.forEach(_),e.p=null}function C(e){e===K&&(K=e.l)}function R(e){return K={p:[],l:K,h:e,m:!0,_:0}}function _(e){var t=e[X];0===t.i||1===t.i?t.j():t.O=!0}function B(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||E("ES5").S(t,e,r),r?(n[X].P&&(D(t),l(4)),v(e)&&(e=S(t,e),t.l||q(t,e)),t.u&&E("Patches").M(n[X].t,e,t.u,t.s)):e=S(t,n,[]),D(t),t.u&&t.v(t.u,t.s),e!==Y?e:void 0}function S(e,t,n){if(A(t))return t;var r=t[X];if(!r)return h(t,(function(o,i){return T(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return q(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=x(r.k):r.o;h(3===r.i?new Set(o):o,(function(t,i){return T(e,r,o,t,i,n)})),q(e,o,!1),n&&e.u&&E("Patches").R(r,n,e.u,e.s)}return r.o}function T(e,t,n,r,o,i){if(d(o)){var a=S(e,o,i&&t&&3!==t.i&&!g(t.D,r)?i.concat(r):void 0);if(m(n,r,a),!d(a))return;e.m=!1}if(v(o)&&!A(o)){if(!e.h.F&&e._<1)return;S(e,o),t&&t.A.l||q(e,o)}}function q(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&P(t,n)}function I(e,t){var n=e[X];return(n?w(n):e)[t]}function z(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function M(e){e.P||(e.P=!0,e.l&&M(e.l))}function W(e){e.o||(e.o=x(e.t))}function V(e,t,n){var r=O(t)?E("MapSet").N(t,n):j(t)?E("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:F(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=re;n&&(o=[r],i=oe);var a=Proxy.revocable(o,i),s=a.revoke,c=a.proxy;return r.k=c,r.j=s,c}(t,n):E("ES5").J(t,n);return(n?n.A:F()).p.push(r),r}function J(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return x(e)}var L,K,G="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),U="undefined"!=typeof Map,$="undefined"!=typeof Set,Q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Y=G?Symbol.for("immer-nothing"):((L={})["immer-nothing"]=!0,L),Z=G?Symbol.for("immer-draftable"):"__$immer_draftable",X=G?Symbol.for("immer-state"):"__$immer_state",H=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ee="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,te=Object.getOwnPropertyDescriptors||function(e){var t={};return ee(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ne={},re={get:function(e,t){if(t===X)return e;var n=w(e);if(!g(n,t))return function(e,t,n){var r,o=z(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!v(r)?r:r===I(e.t,t)?(W(e),e.o[t]=V(e.A.h,r,e)):r},has:function(e,t){return t in w(e)},ownKeys:function(e){return Reflect.ownKeys(w(e))},set:function(e,t,n){var r=z(w(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=I(w(e),t),i=null==o?void 0:o[X];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(y(n,o)&&(void 0!==n||g(e.t,t)))return!0;W(e),M(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==I(e.t,t)||t in e.t?(e.D[t]=!1,W(e),M(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=w(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){l(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){l(12)}},oe={};h(re,(function(e,t){oe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),oe.deleteProperty=function(e,t){return oe.set.call(this,e,t,void 0)},oe.set=function(e,t,n){return re.set.call(this,e[0],t,n,e[0])};var ie=function(){function e(e){var t=this;this.g=Q,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&l(6),void 0!==r&&"function"!=typeof r&&l(7),v(e)){var s=R(t),c=V(t,e,void 0),u=!0;try{a=n(c),u=!1}finally{u?D(s):C(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return N(s,r),B(e,s)}),(function(e){throw D(s),e})):(N(s,r),B(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===Y&&(a=void 0),t.F&&P(a,!0),r){var f=[],d=[];E("Patches").M(e,a,f,d),r(f,d)}return a}l(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){v(e)||l(8),d(e)&&(e=function(e){return d(e)||l(22,e),function e(t){if(!v(t))return t;var n,r=t[X],o=p(t);if(r){if(!r.P&&(r.i<4||!E("ES5").K(r)))return r.t;r.I=!0,n=J(t,o),r.I=!1}else n=J(t,o);return h(n,(function(t,o){r&&b(r.t,t)===o||m(n,t,e(o))})),3===o?new Set(n):n}(e)}(e));var t=R(this),n=V(this,e,void 0);return n[X].C=!0,C(t),n},t.finishDraft=function(e,t){var n=(e&&e[X]).A;return N(n,t),B(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Q&&l(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=E("Patches").$;return d(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),ae=new ie,se=ae.produce,ce=(ae.produceWithPatches.bind(ae),ae.setAutoFreeze.bind(ae),ae.setUseProxies.bind(ae),ae.applyPatches.bind(ae),ae.createDraft.bind(ae)),ue=ae.finishDraft.bind(ae);function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=new WeakMap,de=new WeakMap,ve=new WeakMap,he=new WeakMap,pe=new WeakMap,ge=new WeakMap;function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(){var e={children:[],operations:[],selection:null,marks:null,isInline:function(){return!1},isVoid:function(){return!1},onChange:function(){},apply:function(t){var n,r=Object(c.a)(Ye.pathRefs(e));try{for(r.s();!(n=r.n()).done;){var o=n.value;st.transform(o,t)}}catch(w){r.e(w)}finally{r.f()}var i,a=Object(c.a)(Ye.pointRefs(e));try{for(a.s();!(i=a.n()).done;){var s=i.value;lt.transform(s,t)}}catch(w){a.e(w)}finally{a.f()}var u,f=Object(c.a)(Ye.rangeRefs(e));try{for(f.s();!(u=f.n()).done;){var l=u.value;pt.transform(l,t)}}catch(w){f.e(w)}finally{f.f()}var d,v=new Set,h=[],p=function(e){if(e){var t=e.join(",");v.has(t)||(v.add(t),h.push(e))}},g=le.get(e)||[],b=Oe(t),m=Object(c.a)(g);try{for(m.s();!(d=m.n()).done;){var y=d.value;p(at.transform(y,t))}}catch(w){m.e(w)}finally{m.f()}var O,j=Object(c.a)(b);try{for(j.s();!(O=j.n()).done;){p(O.value)}}catch(w){j.e(w)}finally{j.f()}le.set(e,h),It.transform(e,t),e.operations.push(t),Ye.normalize(e),"set_selection"===t.type&&(e.marks=null),de.get(e)||(de.set(e,!0),Promise.resolve().then((function(){de.set(e,!1),e.onChange(),e.operations=[]})))},addMark:function(t,n){var r=e.selection;if(r)if(ht.isExpanded(r))It.setNodes(e,Object(s.a)({},t,n),{match:jt.isText,split:!0});else{var o=me(me({},Ye.marks(e)||{}),{},Object(s.a)({},t,n));e.marks=o,de.get(e)||e.onChange()}},deleteBackward:function(t){var n=e.selection;n&&ht.isCollapsed(n)&&It.delete(e,{unit:t,reverse:!0})},deleteForward:function(t){var n=e.selection;n&&ht.isCollapsed(n)&&It.delete(e,{unit:t})},deleteFragment:function(t){var n=e.selection;n&&ht.isExpanded(n)&&It.delete(e,{reverse:"backward"===t})},getFragment:function(){var t=e.selection;return t?nt.fragment(e,t):[]},insertBreak:function(){It.splitNodes(e,{always:!0})},insertFragment:function(t){It.insertFragment(e,t)},insertNode:function(t){It.insertNodes(e,t)},insertText:function(t){var n=e.selection,r=e.marks;if(n){if(ht.isCollapsed(n)){var o=Ye.above(e,{match:function(t){return Ye.isInline(e,t)},mode:"highest"});if(o){var i=Object(a.a)(o,2)[1];if(Ye.isEnd(e,n.anchor,i)){var s=Ye.after(e,i);It.setSelection(e,{anchor:s,focus:s})}}}if(r){var c=me({text:t},r);It.insertNodes(e,c)}else It.insertText(e,t);e.marks=null}},normalizeNode:function(t){var n=Object(a.a)(t,2),r=n[0],o=n[1];if(!jt.isText(r))if(Le.isElement(r)&&0===r.children.length){It.insertNodes(e,{text:""},{at:o.concat(0),voids:!0})}else for(var i=!Ye.isEditor(r)&&(Le.isElement(r)&&(e.isInline(r)||0===r.children.length||jt.isText(r.children[0])||e.isInline(r.children[0]))),s=0,c=0;c<r.children.length;c++,s++){var u=nt.get(e,o);if(!jt.isText(u)){var f=r.children[c],l=u.children[s-1],d=c===r.children.length-1;if((jt.isText(f)||Le.isElement(f)&&e.isInline(f))!==i)It.removeNodes(e,{at:o.concat(s),voids:!0}),s--;else if(Le.isElement(f)){if(e.isInline(f))if(null!=l&&jt.isText(l)){if(d){It.insertNodes(e,{text:""},{at:o.concat(s+1),voids:!0}),s++}}else{It.insertNodes(e,{text:""},{at:o.concat(s),voids:!0}),s++}}else null!=l&&jt.isText(l)&&(jt.equals(f,l,{loose:!0})?(It.mergeNodes(e,{at:o.concat(s),voids:!0}),s--):""===l.text?(It.removeNodes(e,{at:o.concat(s-1),voids:!0}),s--):""===f.text&&(It.removeNodes(e,{at:o.concat(s),voids:!0}),s--))}}},removeMark:function(t){var n=e.selection;if(n)if(ht.isExpanded(n))It.unsetNodes(e,t,{match:jt.isText,split:!0});else{var r=me({},Ye.marks(e)||{});delete r[t],e.marks=r,de.get(e)||e.onChange()}}};return e},Oe=function(e){switch(e.type){case"insert_text":case"remove_text":case"set_node":var t=e.path;return at.levels(t);case"insert_node":var n=e.node,r=e.path,o=at.levels(r),s=jt.isText(n)?[]:Array.from(nt.nodes(n),(function(e){var t=Object(a.a)(e,2)[1];return r.concat(t)}));return[].concat(Object(i.a)(o),Object(i.a)(s));case"merge_node":var u=e.path,f=at.ancestors(u),l=at.previous(u);return[].concat(Object(i.a)(f),[l]);case"move_node":var d=e.path,v=e.newPath;if(at.equals(d,v))return[];var h,p=[],g=[],b=Object(c.a)(at.ancestors(d));try{for(b.s();!(h=b.n()).done;){var m=h.value,y=at.transform(m,e);p.push(y)}}catch(R){b.e(R)}finally{b.f()}var O,j=Object(c.a)(at.ancestors(v));try{for(j.s();!(O=j.n()).done;){var w=O.value,x=at.transform(w,e);g.push(x)}}catch(R){j.e(R)}finally{j.f()}var P=g[g.length-1],k=v[v.length-1],A=P.concat(k);return[].concat(p,g,[A]);case"remove_node":var E=e.path,F=at.ancestors(E);return Object(i.a)(F);case"split_node":var N=e.path,D=at.levels(N),C=at.next(N);return[].concat(Object(i.a)(D),[C]);default:return[]}};function je(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var we=/\s/,xe=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Pe=/['\u2018\u2019]/,ke=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!n,o=0,i=null,s=r?e:Me(e),u=Object(c.a)(s);try{for(u.s();!(t=u.n()).done;){var f=t.value,l=f.codePointAt(0);if(!l)break;if(Te(l))o+=f.length,i="ZWJ";else{var d=r?[Ce,Re]:[Re,Ce],v=Object(a.a)(d,2),h=v[0],p=v[1];if(h(l)){if("KC"===i)break;o+=f.length,i="KC"}else{if(p(l)){o+=f.length;break}if(De(l)){if(o+=f.length,r&&"BMP"===i)break;i="VAR"}else if(_e(l)){if(r&&i&&"ZWJ"!==i&&"VAR"!==i)break;if(o+=f.length,n&&"VAR"===i)break;i="BMP"}else if(Ne(l))o+=f.length,i="MOD";else{var g=r?[qe,ze]:[ze,qe],b=Object(a.a)(g,2),m=b[0],y=b[1];if(m(l)){if("TAG"===i)break;o+=f.length,i="TAG"}else{if(y(l)){o+=f.length;break}if("TAG"===i&&Ie(l))o+=f.length;else if(Be(l)){if(o+=f.length,"RI"===i)break;i="RI"}else{if(Se(l)){if(r&&"MOD"===i){o+=f.length;break}break}if("NSEQ"===i)break;o+=f.length,i="NSEQ"}}}}}}}catch(O){u.e(O)}finally{u.f()}return o||1},Ae=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;e.length>0;){var o=ke(e,t),i=Ee(e,o,t),s=Object(a.a)(i,2),c=s[0],u=s[1];if(Fe(c,u,t))r=!0,n+=o;else{if(r)break;n+=o}e=u}return n},Ee=function(e,t,n){if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},Fe=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(we.test(t))return!1;if(Pe.test(t)){var o=ke(n,r),i=Ee(n,o,r),s=Object(a.a)(i,2),c=s[0],u=s[1];if(e(c,u,r))return!0}return!xe.test(t)},Ne=function(e){return e>=127995&&e<=127999},De=function(e){return e<=65039&&e>=65024},Ce=function(e){return e>=48&&e<=57||35===e||42===e},Re=function(e){return 8419===e},_e=function(e){return 10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e||11014===e||8599===e||10145===e||8600===e||11015===e||8601===e||11013===e||8598===e||8597===e||8596===e||8617===e||8618===e||10548===e||10549===e},Be=function(e){return e>=127462&&e<=127487},Se=function(e){return e<=65535},Te=function(e){return 8205===e},qe=function(e){return 127988===e},Ie=function(e){return e>=917504&&e<=917631},ze=function(e){return 917631===e},Me=o.a.mark((function e(t){var n,r,i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.length-1,r=0;case 2:if(!(r<t.length)){e.next=16;break}if(i=t.charAt(n-r),!Ve(i.charCodeAt(0))){e.next=11;break}if(a=t.charAt(n-r-1),!We(a.charCodeAt(0))){e.next=11;break}return e.next=9,a+i;case 9:return r++,e.abrupt("continue",13);case 11:return e.next=13,i;case 13:r++,e.next=2;break;case 16:case"end":return e.stop()}}),e)})),We=function(e){return e>=55296&&e<=56319},Ve=function(e){return e>=56320&&e<=57343},Je=function(e){return f(e)&&nt.isNodeList(e.children)&&!Ye.isEditor(e)},Le={isAncestor:function(e){return f(e)&&nt.isNodeList(e.children)},isElement:Je,isElementList:function(e){return Array.isArray(e)&&e.every((function(e){return Le.isElement(e)}))},isElementProps:function(e){return void 0!==e.children},isElementType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return Je(e)&&e[n]===t},matches:function(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}},Ke=["text"],Ge=["text"];function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=new WeakMap,Ye={above:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.voids,r=void 0!==n&&n,o=t.mode,i=void 0===o?"lowest":o,s=t.at,u=void 0===s?e.selection:s,f=t.match;if(u){var l,d=Ye.path(e,u),v="lowest"===i,h=Object(c.a)(Ye.levels(e,{at:d,voids:r,match:f,reverse:v}));try{for(h.s();!(l=h.n()).done;){var p=Object(a.a)(l.value,2),g=p[0],b=p[1];if(!jt.isText(g)&&!at.equals(d,b))return[g,b]}}catch(m){h.e(m)}finally{h.f()}}},addMark:function(e,t,n){e.addMark(t,n)},after:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Ye.point(e,t,{edge:"end"}),a=Ye.end(e,[]),s={anchor:i,focus:a},u=o.distance,f=void 0===u?1:u,l=0,d=Object(c.a)(Ye.positions(e,$e($e({},o),{},{at:s})));try{for(d.s();!(r=d.n()).done;){var v=r.value;if(l>f)break;0!==l&&(n=v),l++}}catch(h){d.e(h)}finally{d.f()}return n},before:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Ye.start(e,[]),a=Ye.point(e,t,{edge:"start"}),s={anchor:i,focus:a},u=o.distance,f=void 0===u?1:u,l=0,d=Object(c.a)(Ye.positions(e,$e($e({},o),{},{at:s,reverse:!0})));try{for(d.s();!(r=d.n()).done;){var v=r.value;if(l>f)break;0!==l&&(n=v),l++}}catch(h){d.e(h)}finally{d.f()}return n},deleteBackward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.unit,r=void 0===n?"character":n;e.deleteBackward(r)},deleteForward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.unit,r=void 0===n?"character":n;e.deleteForward(r)},deleteFragment:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.direction,r=void 0===n?"forward":n;e.deleteFragment(r)},edges:function(e,t){return[Ye.start(e,t),Ye.end(e,t)]},end:function(e,t){return Ye.point(e,t,{edge:"end"})},first:function(e,t){var n=Ye.path(e,t,{edge:"start"});return Ye.node(e,n)},fragment:function(e,t){var n=Ye.range(e,t),r=nt.fragment(e,n);return r},hasBlocks:function(e,t){return t.children.some((function(t){return Ye.isBlock(e,t)}))},hasInlines:function(e,t){return t.children.some((function(t){return jt.isText(t)||Ye.isInline(e,t)}))},hasTexts:function(e,t){return t.children.every((function(e){return jt.isText(e)}))},insertBreak:function(e){e.insertBreak()},insertFragment:function(e,t){e.insertFragment(t)},insertNode:function(e,t){e.insertNode(t)},insertText:function(e,t){e.insertText(t)},isBlock:function(e,t){return Le.isElement(t)&&!e.isInline(t)},isEditor:function(e){if(!f(e))return!1;var t=Qe.get(e);if(void 0!==t)return t;var n="function"===typeof e.addMark&&"function"===typeof e.apply&&"function"===typeof e.deleteBackward&&"function"===typeof e.deleteForward&&"function"===typeof e.deleteFragment&&"function"===typeof e.insertBreak&&"function"===typeof e.insertFragment&&"function"===typeof e.insertNode&&"function"===typeof e.insertText&&"function"===typeof e.isInline&&"function"===typeof e.isVoid&&"function"===typeof e.normalizeNode&&"function"===typeof e.onChange&&"function"===typeof e.removeMark&&(null===e.marks||f(e.marks))&&(null===e.selection||ht.isRange(e.selection))&&nt.isNodeList(e.children)&&it.isOperationList(e.operations);return Qe.set(e,n),n},isEnd:function(e,t,n){var r=Ye.end(e,n);return ft.equals(t,r)},isEdge:function(e,t,n){return Ye.isStart(e,t,n)||Ye.isEnd(e,t,n)},isEmpty:function(e,t){var n=t.children,r=Object(a.a)(n,1)[0];return 0===n.length||1===n.length&&jt.isText(r)&&""===r.text&&!e.isVoid(t)},isInline:function(e,t){return Le.isElement(t)&&e.isInline(t)},isNormalizing:function(e){var t=ve.get(e);return void 0===t||t},isStart:function(e,t,n){if(0!==t.offset)return!1;var r=Ye.start(e,n);return ft.equals(t,r)},isVoid:function(e,t){return Le.isElement(t)&&e.isVoid(t)},last:function(e,t){var n=Ye.path(e,t,{edge:"end"});return Ye.node(e,n)},leaf:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ye.path(e,t,n),o=nt.leaf(e,r);return[o,r]},levels:o.a.mark((function(e){var t,n,r,i,s,u,f,l,d,v,h,p,g,b,m,y=arguments;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=y.length>1&&void 0!==y[1]?y[1]:{},n=t.at,r=void 0===n?e.selection:n,i=t.reverse,s=void 0!==i&&i,u=t.voids,f=void 0!==u&&u,null==(l=t.match)&&(l=function(){return!0}),r){o.next=6;break}return o.abrupt("return");case 6:d=[],v=Ye.path(e,r),h=Object(c.a)(nt.levels(e,v)),o.prev=9,h.s();case 11:if((p=h.n()).done){o.next=20;break}if(g=Object(a.a)(p.value,2),b=g[0],m=g[1],l(b,m)){o.next=15;break}return o.abrupt("continue",18);case 15:if(d.push([b,m]),f||!Ye.isVoid(e,b)){o.next=18;break}return o.abrupt("break",20);case 18:o.next=11;break;case 20:o.next=25;break;case 22:o.prev=22,o.t0=o.catch(9),h.e(o.t0);case 25:return o.prev=25,h.f(),o.finish(25);case 28:return s&&d.reverse(),o.delegateYield(d,"t1",30);case 30:case"end":return o.stop()}}),d,null,[[9,22,25,28]])})),marks:function(e){var t=e.marks,n=e.selection;if(!n)return null;if(t)return t;if(ht.isExpanded(n)){var r=Ye.nodes(e,{match:jt.isText}),o=Object(a.a)(r,1)[0];return o?je(Object(a.a)(o,1)[0],Ke):{}}var i=n.anchor,s=i.path,c=Ye.leaf(e,s),u=Object(a.a)(c,1)[0];if(0===i.offset){var f=Ye.previous(e,{at:s,match:jt.isText}),l=Ye.above(e,{match:function(t){return Ye.isBlock(e,t)}});if(f&&l){var d=Object(a.a)(f,2),v=d[0],h=d[1],p=Object(a.a)(l,2)[1];at.isAncestor(p,h)&&(u=v)}}return je(u,Ge)},next:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mode,r=void 0===n?"lowest":n,o=t.voids,i=void 0!==o&&o,s=t.match,c=t.at,u=void 0===c?e.selection:c;if(u){var f=Ye.after(e,u,{voids:i});if(f){var l=Ye.last(e,[]),d=Object(a.a)(l,2),v=d[1],h=[f.path,v];if(at.isPath(u)&&0===u.length)throw new Error("Cannot get the next node from the root node!");if(null==s)if(at.isPath(u)){var p=Ye.parent(e,u),g=Object(a.a)(p,1),b=g[0];s=function(e){return b.children.includes(e)}}else s=function(){return!0};var m=Ye.nodes(e,{at:h,match:s,mode:r,voids:i}),y=Object(a.a)(m,1),O=y[0];return O}}},node:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ye.path(e,t,n),o=nt.get(e,r);return[o,r]},nodes:o.a.mark((function e(t){var n,r,i,s,u,f,l,d,v,h,p,g,b,m,y,O,j,w,x,P,k,A,E,F,N,D,C=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=C.length>1&&void 0!==C[1]?C[1]:{},r=n.at,i=void 0===r?t.selection:r,s=n.mode,u=void 0===s?"all":s,f=n.universal,l=void 0!==f&&f,d=n.reverse,v=void 0!==d&&d,h=n.voids,p=void 0!==h&&h,(g=n.match)||(g=function(){return!0}),i){e.next=6;break}return e.abrupt("return");case 6:Xe.isSpan(i)?(b=i[0],m=i[1]):(y=Ye.path(t,i,{edge:"start"}),O=Ye.path(t,i,{edge:"end"}),b=v?O:y,m=v?y:O),j=nt.nodes(t,{reverse:v,from:b,to:m,pass:function(e){var n=Object(a.a)(e,1)[0];return!p&&Ye.isVoid(t,n)}}),w=[],P=Object(c.a)(j),e.prev=10,P.s();case 12:if((k=P.n()).done){e.next=37;break}if(A=Object(a.a)(k.value,2),E=A[0],F=A[1],N=x&&0===at.compare(F,x[1]),"highest"!==u||!N){e.next=17;break}return e.abrupt("continue",35);case 17:if(g(E,F)){e.next=23;break}if(!l||N||!jt.isText(E)){e.next=22;break}return e.abrupt("return");case 22:return e.abrupt("continue",35);case 23:if("lowest"!==u||!N){e.next=26;break}return x=[E,F],e.abrupt("continue",35);case 26:if(!(D="lowest"===u?x:[E,F])){e.next=34;break}if(!l){e.next=32;break}w.push(D),e.next=34;break;case 32:return e.next=34,D;case 34:x=[E,F];case 35:e.next=12;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(10),P.e(e.t0);case 42:return e.prev=42,P.f(),e.finish(42);case 45:if("lowest"!==u||!x){e.next=52;break}if(!l){e.next=50;break}w.push(x),e.next=52;break;case 50:return e.next=52,x;case 52:if(!l){e.next=54;break}return e.delegateYield(w,"t1",54);case 54:case"end":return e.stop()}}),e,null,[[10,39,42,45]])})),normalize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.force,r=void 0!==n&&n,o=function(e){return le.get(e)||[]};if(Ye.isNormalizing(e)){if(r){var i=Array.from(nt.nodes(e),(function(e){return Object(a.a)(e,2)[1]}));le.set(e,i)}0!==o(e).length&&Ye.withoutNormalizing(e,(function(){var t,n=Object(c.a)(o(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(nt.has(e,r)){var i=Ye.node(e,r),s=i,u=Object(a.a)(s,2),f=u[0];u[1];Le.isElement(f)&&0===f.children.length&&e.normalizeNode(i)}}}catch(p){n.e(p)}finally{n.f()}for(var l=42*o(e).length,d=0;0!==o(e).length;){if(d>l)throw new Error("\n            Could not completely normalize the editor after ".concat(l," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var v=o(e).pop();if(nt.has(e,v)){var h=Ye.node(e,v);e.normalizeNode(h)}d++}}))}},parent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ye.path(e,t,n),o=at.parent(r),i=Ye.node(e,o);return i},path:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.depth,o=n.edge;if(at.isPath(t))if("start"===o){var i=nt.first(e,t),s=Object(a.a)(i,2),c=s[1];t=c}else if("end"===o){var u=nt.last(e,t),f=Object(a.a)(u,2),l=f[1];t=l}return ht.isRange(t)&&(t="start"===o?ht.start(t):"end"===o?ht.end(t):at.common(t.anchor.path,t.focus.path)),ft.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},hasPath:function(e,t){return nt.has(e,t)},pathRef:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.affinity,o=void 0===r?"forward":r,i={current:t,affinity:o,unref:function(){var t=i.current;return Ye.pathRefs(e).delete(i),i.current=null,t}},a=Ye.pathRefs(e);return a.add(i),i},pathRefs:function(e){var t=he.get(e);return t||(t=new Set,he.set(e,t)),t},point:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.edge,o=void 0===r?"start":r;if(at.isPath(t)){var i;if("end"===o){var s=nt.last(e,t),c=Object(a.a)(s,2),u=c[1];i=u}else{var f=nt.first(e,t),l=Object(a.a)(f,2),d=l[1];i=d}var v=nt.get(e,i);if(!jt.isText(v))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(t,"] because it has no ").concat(o," text node."));return{path:i,offset:"end"===o?v.text.length:0}}if(ht.isRange(t)){var h=ht.edges(t),p=Object(a.a)(h,2),g=p[0],b=p[1];return"start"===o?g:b}return t},pointRef:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.affinity,o=void 0===r?"forward":r,i={current:t,affinity:o,unref:function(){var t=i.current;return Ye.pointRefs(e).delete(i),i.current=null,t}},a=Ye.pointRefs(e);return a.add(i),i},pointRefs:function(e){var t=pe.get(e);return t||(t=new Set,pe.set(e,t)),t},positions:o.a.mark((function e(t){var n,r,i,s,u,f,l,d,v,h,p,g,b,m,y,O,j,w,x,P,k,A,E,F,N,D,C,R,_,B=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_=function(e,t,n){return"character"===t?ke(e,n):"word"===t?Ae(e,n):"line"===t||"block"===t?e.length:1},n=B.length>1&&void 0!==B[1]?B[1]:{},r=n.at,i=void 0===r?t.selection:r,s=n.unit,u=void 0===s?"offset":s,f=n.reverse,l=void 0!==f&&f,d=n.voids,v=void 0!==d&&d,i){e.next=5;break}return e.abrupt("return");case 5:h=Ye.range(t,i),p=ht.edges(h),g=Object(a.a)(p,2),b=g[0],m=g[1],y=l?m:b,O=!1,j="",w=0,x=0,P=0,k=Object(c.a)(Ye.nodes(t,{at:i,reverse:l,voids:v})),e.prev=14,k.s();case 16:if((A=k.n()).done){e.next=51;break}if(E=Object(a.a)(A.value,2),F=E[0],N=E[1],!Le.isElement(F)){e.next=26;break}if(v||!t.isVoid(F)){e.next=23;break}return e.next=22,Ye.start(t,N);case 22:return e.abrupt("continue",49);case 23:if(!t.isInline(F)){e.next=25;break}return e.abrupt("continue",49);case 25:Ye.hasInlines(t,F)&&(D=at.isAncestor(N,m.path)?m:Ye.end(t,N),C=at.isAncestor(N,b.path)?b:Ye.start(t,N),j=Ye.string(t,{anchor:C,focus:D},{voids:v}),O=!0);case 26:if(!jt.isText(F)){e.next=49;break}if((R=at.equals(N,y.path))?(x=l?y.offset:F.text.length-y.offset,P=y.offset):(x=F.text.length,P=l?x:0),!R&&!O&&"offset"!==u){e.next=33;break}return e.next=32,{path:N,offset:P};case 32:O=!1;case 33:if(0!==w){e.next=39;break}if(""!==j){e.next=37;break}return e.abrupt("break",49);case 37:w=_(j,u,l),j=Ee(j,w,l)[1];case 39:if(P=l?P-w:P+w,!((x-=w)<0)){e.next=44;break}return w=-x,e.abrupt("break",49);case 44:return w=0,e.next=47,{path:N,offset:P};case 47:e.next=33;break;case 49:e.next=16;break;case 51:e.next=56;break;case 53:e.prev=53,e.t0=e.catch(14),k.e(e.t0);case 56:return e.prev=56,k.f(),e.finish(56);case 59:case"end":return e.stop()}}),e,null,[[14,53,56,59]])})),previous:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mode,r=void 0===n?"lowest":n,o=t.voids,i=void 0!==o&&o,s=t.match,c=t.at,u=void 0===c?e.selection:c;if(u){var f=Ye.before(e,u,{voids:i});if(f){var l=Ye.first(e,[]),d=Object(a.a)(l,2),v=d[1],h=[f.path,v];if(at.isPath(u)&&0===u.length)throw new Error("Cannot get the previous node from the root node!");if(null==s)if(at.isPath(u)){var p=Ye.parent(e,u),g=Object(a.a)(p,1),b=g[0];s=function(e){return b.children.includes(e)}}else s=function(){return!0};var m=Ye.nodes(e,{reverse:!0,at:h,match:s,mode:r,voids:i}),y=Object(a.a)(m,1),O=y[0];return O}}},range:function(e,t,n){return ht.isRange(t)&&!n?t:{anchor:Ye.start(e,t),focus:Ye.end(e,n||t)}},rangeRef:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.affinity,o=void 0===r?"forward":r,i={current:t,affinity:o,unref:function(){var t=i.current;return Ye.rangeRefs(e).delete(i),i.current=null,t}},a=Ye.rangeRefs(e);return a.add(i),i},rangeRefs:function(e){var t=ge.get(e);return t||(t=new Set,ge.set(e,t)),t},removeMark:function(e,t){e.removeMark(t)},setNormalizing:function(e,t){ve.set(e,t)},start:function(e,t){return Ye.point(e,t,{edge:"start"})},string:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.voids,i=void 0!==o&&o,s=Ye.range(e,t),u=ht.edges(s),f=Object(a.a)(u,2),l=f[0],d=f[1],v="",h=Object(c.a)(Ye.nodes(e,{at:s,match:jt.isText,voids:i}));try{for(h.s();!(n=h.n()).done;){var p=Object(a.a)(n.value,2),g=p[0],b=p[1],m=g.text;at.equals(b,d.path)&&(m=m.slice(0,d.offset)),at.equals(b,l.path)&&(m=m.slice(l.offset)),v+=m}}catch(y){h.e(y)}finally{h.f()}return v},unhangRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.voids,o=void 0!==r&&r,i=ht.edges(t),s=Object(a.a)(i,2),u=s[0],f=s[1];if(0!==u.offset||0!==f.offset||ht.isCollapsed(t))return t;var l,d=Ye.above(e,{at:f,match:function(t){return Ye.isBlock(e,t)}}),v=d?d[1]:[],h=Ye.start(e,[]),p={anchor:h,focus:f},g=!0,b=Object(c.a)(Ye.nodes(e,{at:p,match:jt.isText,reverse:!0,voids:o}));try{for(b.s();!(l=b.n()).done;){var m=Object(a.a)(l.value,2),y=m[0],O=m[1];if(g)g=!1;else if(""!==y.text||at.isBefore(O,v)){f={path:O,offset:y.text.length};break}}}catch(j){b.e(j)}finally{b.f()}return{anchor:u,focus:f}},void:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ye.above(e,$e($e({},t),{},{match:function(t){return Ye.isVoid(e,t)}}))},withoutNormalizing:function(e,t){var n=Ye.isNormalizing(e);Ye.setNormalizing(e,!1);try{t()}finally{Ye.setNormalizing(e,n)}Ye.normalize(e)}},Ze={isLocation:function(e){return at.isPath(e)||ft.isPoint(e)||ht.isRange(e)}},Xe={isSpan:function(e){return Array.isArray(e)&&2===e.length&&e.every(at.isPath)}},He=["children"],et=["text"],tt=new WeakMap,nt={ancestor:function(e,t){var n=nt.get(e,t);if(jt.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(n));return n},ancestors:o.a.mark((function e(t,n){var r,i,a,s,u,f,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.length>2&&void 0!==l[2]?l[2]:{},i=Object(c.a)(at.ancestors(n,r)),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=12;break}return s=a.value,u=nt.ancestor(t,s),f=[u,s],e.next=10,f;case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})),child:function(e,t){if(jt.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var n=e.children[t];if(null==n)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return n},children:o.a.mark((function(e,t){var n,r,i,a,s,c,u,f,l=arguments;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=l.length>2&&void 0!==l[2]?l[2]:{},r=n.reverse,i=void 0!==r&&r,a=nt.ancestor(e,t),s=a.children,c=i?s.length-1:0;case 5:if(!(i?c>=0:c<s.length)){o.next=13;break}return u=nt.child(a,c),f=t.concat(c),o.next=10,[u,f];case 10:c=i?c-1:c+1,o.next=5;break;case 13:case"end":return o.stop()}}),s)})),common:function(e,t,n){var r=at.common(t,n);return[nt.get(e,r),r]},descendant:function(e,t){var n=nt.get(e,t);if(Ye.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(n));return n},descendants:o.a.mark((function e(t){var n,r,i,s,u,f,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},r=Object(c.a)(nt.nodes(t,n)),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=11;break}if(s=Object(a.a)(i.value,2),u=s[0],0===(f=s[1]).length){e.next=9;break}return e.next=9,[u,f];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),elements:o.a.mark((function e(t){var n,r,i,s,u,f,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},r=Object(c.a)(nt.nodes(t,n)),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=11;break}if(s=Object(a.a)(i.value,2),u=s[0],f=s[1],!Le.isElement(u)){e.next=9;break}return e.next=9,[u,f];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),extractProps:function(e){return Le.isAncestor(e)?je(e,He):je(e,et)},first:function(e,t){for(var n=t.slice(),r=nt.get(e,n);r&&!jt.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment:function(e,t){if(jt.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return se({children:e.children},(function(e){var n,r=ht.edges(t),o=Object(a.a)(r,2),i=o[0],s=o[1],u=nt.nodes(e,{reverse:!0,pass:function(e){var n=Object(a.a)(e,2)[1];return!ht.includes(t,n)}}),f=Object(c.a)(u);try{for(f.s();!(n=f.n()).done;){var l=Object(a.a)(n.value,2)[1];if(!ht.includes(t,l)){var d=nt.parent(e,l),v=l[l.length-1];d.children.splice(v,1)}if(at.equals(l,s.path)){var h=nt.leaf(e,l);h.text=h.text.slice(0,s.offset)}if(at.equals(l,i.path)){var p=nt.leaf(e,l);p.text=p.text.slice(i.offset)}}}catch(g){f.e(g)}finally{f.f()}Ye.isEditor(e)&&(e.selection=null)})).children},get:function(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(jt.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));n=n.children[o]}return n},has:function(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(jt.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode:function(e){return jt.isText(e)||Le.isElement(e)||Ye.isEditor(e)},isNodeList:function(e){if(!Array.isArray(e))return!1;var t=tt.get(e);if(void 0!==t)return t;var n=e.every((function(e){return nt.isNode(e)}));return tt.set(e,n),n},last:function(e,t){for(var n=t.slice(),r=nt.get(e,n);r&&!jt.isText(r)&&0!==r.children.length;){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf:function(e,t){var n=nt.get(e,t);if(!jt.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(n));return n},levels:o.a.mark((function e(t,n){var r,i,a,s,u,f=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>2&&void 0!==f[2]?f[2]:{},i=Object(c.a)(at.levels(n,r)),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=11;break}return s=a.value,u=nt.get(t,s),e.next=9,[u,s];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),i.e(e.t0);case 16:return e.prev=16,i.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),matches:function(e,t){return Le.isElement(e)&&Le.isElementProps(t)&&Le.matches(e,t)||jt.isText(e)&&jt.isTextProps(t)&&jt.matches(e,t)},nodes:o.a.mark((function e(t){var n,r,i,a,s,c,u,f,l,d,v,h,p,g=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=g.length>1&&void 0!==g[1]?g[1]:{},r=n.pass,i=n.reverse,a=void 0!==i&&i,s=n.from,c=void 0===s?[]:s,u=n.to,f=new Set,l=[],d=t;case 6:if(!u||!(a?at.isBefore(l,u):at.isAfter(l,u))){e.next=9;break}return e.abrupt("break",37);case 9:if(f.has(d)){e.next=12;break}return e.next=12,[d,l];case 12:if(f.has(d)||jt.isText(d)||0===d.children.length||null!=r&&!1!==r([d,l])){e.next=19;break}return f.add(d),v=a?d.children.length-1:0,at.isAncestor(l,c)&&(v=c[l.length]),l=l.concat(v),d=nt.get(t,l),e.abrupt("continue",6);case 19:if(0!==l.length){e.next=21;break}return e.abrupt("break",37);case 21:if(a){e.next=27;break}if(h=at.next(l),!nt.has(t,h)){e.next=27;break}return l=h,d=nt.get(t,l),e.abrupt("continue",6);case 27:if(!a||0===l[l.length-1]){e.next=32;break}return p=at.previous(l),l=p,d=nt.get(t,l),e.abrupt("continue",6);case 32:l=at.parent(l),d=nt.get(t,l),f.add(d),e.next=6;break;case 37:case"end":return e.stop()}}),e)})),parent:function(e,t){var n=at.parent(t),r=nt.get(e,n);if(jt.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string:function(e){return jt.isText(e)?e.text:e.children.map(nt.string).join("")},texts:o.a.mark((function e(t){var n,r,i,s,u,f,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},r=Object(c.a)(nt.nodes(t,n)),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=11;break}if(s=Object(a.a)(i.value,2),u=s[0],f=s[1],!jt.isText(u)){e.next=9;break}return e.next=9,[u,f];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])}))};function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it={isNodeOperation:function(e){return it.isOperation(e)&&e.type.endsWith("_node")},isOperation:function(e){if(!f(e))return!1;switch(e.type){case"insert_node":case"remove_node":return at.isPath(e.path)&&nt.isNode(e.node);case"insert_text":case"remove_text":return"number"===typeof e.offset&&"string"===typeof e.text&&at.isPath(e.path);case"merge_node":return"number"===typeof e.position&&at.isPath(e.path)&&f(e.properties);case"move_node":return at.isPath(e.path)&&at.isPath(e.newPath);case"set_node":return at.isPath(e.path)&&f(e.properties)&&f(e.newProperties);case"set_selection":return null===e.properties&&ht.isRange(e.newProperties)||null===e.newProperties&&ht.isRange(e.properties)||f(e.properties)&&f(e.newProperties);case"split_node":return at.isPath(e.path)&&"number"===typeof e.position&&f(e.properties);default:return!1}},isOperationList:function(e){return Array.isArray(e)&&e.every((function(e){return it.isOperation(e)}))},isSelectionOperation:function(e){return it.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation:function(e){return it.isOperation(e)&&e.type.endsWith("_text")},inverse:function(e){switch(e.type){case"insert_node":return ot(ot({},e),{},{type:"remove_node"});case"insert_text":return ot(ot({},e),{},{type:"remove_text"});case"merge_node":return ot(ot({},e),{},{type:"split_node",path:at.previous(e.path)});case"move_node":var t=e.newPath,n=e.path;if(at.equals(t,n))return e;if(at.isSibling(n,t))return ot(ot({},e),{},{path:t,newPath:n});var r=at.transform(n,e),o=at.transform(at.next(n),e);return ot(ot({},e),{},{path:r,newPath:o});case"remove_node":return ot(ot({},e),{},{type:"insert_node"});case"remove_text":return ot(ot({},e),{},{type:"insert_text"});case"set_node":var i=e.properties,a=e.newProperties;return ot(ot({},e),{},{properties:a,newProperties:i});case"set_selection":var s=e.properties,c=e.newProperties;return ot(ot({},e),{},null==s?{properties:c,newProperties:null}:null==c?{properties:null,newProperties:s}:{properties:c,newProperties:s});case"split_node":return ot(ot({},e),{},{type:"merge_node",path:at.next(e.path)})}}},at={ancestors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reverse,r=void 0!==n&&n,o=at.levels(e,t);return o=r?o.slice(1):o.slice(0,-1)},common:function(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r];if(o!==t[r])break;n.push(o)}return n},compare:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter:function(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],a=t[n];return at.equals(r,o)&&i>a},endsAt:function(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return at.equals(r,o)},endsBefore:function(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],a=t[n];return at.equals(r,o)&&i<a},equals:function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},hasPrevious:function(e){return e[e.length-1]>0},isAfter:function(e,t){return 1===at.compare(e,t)},isAncestor:function(e,t){return e.length<t.length&&0===at.compare(e,t)},isBefore:function(e,t){return-1===at.compare(e,t)},isChild:function(e,t){return e.length===t.length+1&&0===at.compare(e,t)},isCommon:function(e,t){return e.length<=t.length&&0===at.compare(e,t)},isDescendant:function(e,t){return e.length>t.length&&0===at.compare(e,t)},isParent:function(e,t){return e.length+1===t.length&&0===at.compare(e,t)},isPath:function(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])},isSibling:function(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&at.equals(n,r)},levels:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reverse,r=void 0!==n&&n,o=[],i=0;i<=e.length;i++)o.push(e.slice(0,i));return r&&o.reverse(),o},next:function(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent:function(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous:function(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative:function(e,t){if(!at.isAncestor(t,e)&&!at.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return se(e,(function(r){var o=n.affinity,i=void 0===o?"forward":o;if(e&&0!==(null===e||void 0===e?void 0:e.length)){if(null===r)return null;switch(t.type){case"insert_node":var a=t.path;(at.equals(a,r)||at.endsBefore(a,r)||at.isAncestor(a,r))&&(r[a.length-1]+=1);break;case"remove_node":var s=t.path;if(at.equals(s,r)||at.isAncestor(s,r))return null;at.endsBefore(s,r)&&(r[s.length-1]-=1);break;case"merge_node":var c=t.path,u=t.position;at.equals(c,r)||at.endsBefore(c,r)?r[c.length-1]-=1:at.isAncestor(c,r)&&(r[c.length-1]-=1,r[c.length]+=u);break;case"split_node":var f=t.path,l=t.position;if(at.equals(f,r)){if("forward"===i)r[r.length-1]+=1;else if("backward"!==i)return null}else at.endsBefore(f,r)?r[f.length-1]+=1:at.isAncestor(f,r)&&e[f.length]>=l&&(r[f.length-1]+=1,r[f.length]-=l);break;case"move_node":var d=t.path,v=t.newPath;if(at.equals(d,v))return;if(at.isAncestor(d,r)||at.equals(d,r)){var h=v.slice();return at.endsBefore(d,v)&&d.length<v.length&&(h[d.length-1]-=1),h.concat(r.slice(d.length))}at.isSibling(d,v)&&(at.isAncestor(v,r)||at.equals(v,r))?at.endsBefore(d,r)?r[d.length-1]-=1:r[d.length-1]+=1:at.endsBefore(v,r)||at.equals(v,r)||at.isAncestor(v,r)?(at.endsBefore(d,r)&&(r[d.length-1]-=1),r[v.length-1]+=1):at.endsBefore(d,r)&&(at.equals(v,r)&&(r[v.length-1]+=1),r[d.length-1]-=1)}}}))}},st={transform:function(e,t){var n=e.current,r=e.affinity;if(null!=n){var o=at.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}};function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft={compare:function(e,t){var n=at.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter:function(e,t){return 1===ft.compare(e,t)},isBefore:function(e,t){return-1===ft.compare(e,t)},equals:function(e,t){return e.offset===t.offset&&at.equals(e.path,t.path)},isPoint:function(e){return f(e)&&"number"===typeof e.offset&&at.isPath(e.path)},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return se(e,(function(e){if(null===e)return null;var r=n.affinity,o=void 0===r?"forward":r,i=e.path,a=e.offset;switch(t.type){case"insert_node":case"move_node":e.path=at.transform(i,t,n);break;case"insert_text":at.equals(t.path,i)&&t.offset<=a&&(e.offset+=t.text.length);break;case"merge_node":at.equals(t.path,i)&&(e.offset+=t.position),e.path=at.transform(i,t,n);break;case"remove_text":at.equals(t.path,i)&&t.offset<=a&&(e.offset-=Math.min(a-t.offset,t.text.length));break;case"remove_node":if(at.equals(t.path,i)||at.isAncestor(t.path,i))return null;e.path=at.transform(i,t,n);break;case"split_node":if(at.equals(t.path,i)){if(t.position===a&&null==o)return null;(t.position<a||t.position===a&&"forward"===o)&&(e.offset-=t.position,e.path=at.transform(i,t,ut(ut({},n),{},{affinity:"forward"})))}else e.path=at.transform(i,t,n)}}))}},lt={transform:function(e,t){var n=e.current,r=e.affinity;if(null!=n){var o=ft.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}},dt=["anchor","focus"];function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ht={edges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reverse,r=void 0!==n&&n,o=e.anchor,i=e.focus;return ht.isBackward(e)===r?[o,i]:[i,o]},end:function(e){var t=ht.edges(e),n=Object(a.a)(t,2)[1];return n},equals:function(e,t){return ft.equals(e.anchor,t.anchor)&&ft.equals(e.focus,t.focus)},includes:function(e,t){if(ht.isRange(t)){if(ht.includes(e,t.anchor)||ht.includes(e,t.focus))return!0;var n=ht.edges(e),r=Object(a.a)(n,2),o=r[0],i=r[1],s=ht.edges(t),c=Object(a.a)(s,2),u=c[0],f=c[1];return ft.isBefore(o,u)&&ft.isAfter(i,f)}var l=ht.edges(e),d=Object(a.a)(l,2),v=d[0],h=d[1],p=!1,g=!1;return ft.isPoint(t)?(p=ft.compare(t,v)>=0,g=ft.compare(t,h)<=0):(p=at.compare(t,v.path)>=0,g=at.compare(t,h.path)<=0),p&&g},intersection:function(e,t){var n=je(e,dt),r=ht.edges(e),o=Object(a.a)(r,2),i=o[0],s=o[1],c=ht.edges(t),u=Object(a.a)(c,2),f=u[0],l=u[1],d=ft.isBefore(i,f)?f:i,v=ft.isBefore(s,l)?s:l;return ft.isBefore(v,d)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({anchor:d,focus:v},n)},isBackward:function(e){var t=e.anchor,n=e.focus;return ft.isAfter(t,n)},isCollapsed:function(e){var t=e.anchor,n=e.focus;return ft.equals(t,n)},isExpanded:function(e){return!ht.isCollapsed(e)},isForward:function(e){return!ht.isBackward(e)},isRange:function(e){return f(e)&&ft.isPoint(e.anchor)&&ft.isPoint(e.focus)},points:o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[t.anchor,"anchor"];case 2:return e.next=4,[t.focus,"focus"];case 4:case"end":return e.stop()}}),e)})),start:function(e){var t=ht.edges(e),n=Object(a.a)(t,1)[0];return n},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return se(e,(function(e){if(null===e)return null;var r,o,i=n.affinity,a=void 0===i?"inward":i;if("inward"===a){var s=ht.isCollapsed(e);ht.isForward(e)?(r="forward",o=s?r:"backward"):(r="backward",o=s?r:"forward")}else"outward"===a?ht.isForward(e)?(r="backward",o="forward"):(r="forward",o="backward"):(r=a,o=a);var c=ft.transform(e.anchor,t,{affinity:r}),u=ft.transform(e.focus,t,{affinity:o});if(!c||!u)return null;e.anchor=c,e.focus=u}))}},pt={transform:function(e,t){var n=e.current,r=e.affinity;if(null!=n){var o=ht.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}},gt=function e(t,n){for(var r in t){var o=t[r],i=n[r];if(f(o)&&f(i)){if(!e(o,i))return!1}else{if(Array.isArray(o)&&Array.isArray(i)){if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++)if(o[a]!==i[a])return!1;return!0}if(o!==i)return!1}}for(var s in n)if(void 0===t[s]&&void 0!==n[s])return!1;return!0},bt=["text"],mt=["anchor","focus"];function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt={equals:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.loose,o=void 0!==r&&r;function i(e){return je(e,bt)}return gt(o?i(e):e,o?i(t):t)},isText:function(e){return f(e)&&"string"===typeof e.text},isTextList:function(e){return Array.isArray(e)&&e.every((function(e){return jt.isText(e)}))},isTextProps:function(e){return void 0!==e.text},matches:function(e,t){for(var n in t)if("text"!==n&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations:function(e,t){var n,r=[Ot({},e)],o=Object(c.a)(t);try{for(o.s();!(n=o.n()).done;){var i,s=n.value,u=je(s,mt),f=ht.edges(s),l=Object(a.a)(f,2),d=l[0],v=l[1],h=[],p=0,g=Object(c.a)(r);try{for(g.s();!(i=g.n()).done;){var b=i.value,m=b.text.length,y=p;if(p+=m,d.offset<=y&&v.offset>=p)Object.assign(b,u),h.push(b);else if(d.offset!==v.offset&&(d.offset===p||v.offset===y)||d.offset>p||v.offset<y||v.offset===y&&0!==y)h.push(b);else{var O=b,j=void 0,w=void 0;if(v.offset<p){var x=v.offset-y;w=Ot(Ot({},O),{},{text:O.text.slice(x)}),O=Ot(Ot({},O),{},{text:O.text.slice(0,x)})}if(d.offset>y){var P=d.offset-y;j=Ot(Ot({},O),{},{text:O.text.slice(0,P)}),O=Ot(Ot({},O),{},{text:O.text.slice(P)})}Object.assign(O,u),j&&h.push(j),h.push(O),w&&h.push(w)}}}catch(k){g.e(k)}finally{g.f()}r=h}}catch(k){o.e(k)}finally{o.f()}return r}};function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=["text"],kt=["children"];function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft={insertNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ye.withoutNormalizing(e,(function(){var r=n.hanging,o=void 0!==r&&r,i=n.voids,s=void 0!==i&&i,u=n.mode,f=void 0===u?"lowest":u,l=n.at,d=n.match,v=n.select;if(nt.isNode(t)&&(t=[t]),0!==t.length){var h=t,p=Object(a.a)(h,1)[0];if(l||(l=e.selection?e.selection:e.children.length>0?Ye.end(e,[]):[0],v=!0),null==v&&(v=!1),ht.isRange(l))if(o||(l=Ye.unhangRange(e,l)),ht.isCollapsed(l))l=l.anchor;else{var g=ht.edges(l),b=Object(a.a)(g,2)[1],m=Ye.pointRef(e,b);It.delete(e,{at:l}),l=m.unref()}if(ft.isPoint(l)){null==d&&(d=jt.isText(p)?function(e){return jt.isText(e)}:e.isInline(p)?function(t){return jt.isText(t)||Ye.isInline(e,t)}:function(t){return Ye.isBlock(e,t)});var y=Ye.nodes(e,{at:l.path,match:d,mode:f,voids:s}),O=Object(a.a)(y,1)[0];if(!O)return;var j=Object(a.a)(O,2)[1],w=Ye.pathRef(e,j),x=Ye.isEnd(e,l,j);It.splitNodes(e,{at:l,match:d,mode:f,voids:s});var P=w.unref();l=x?at.next(P):P}var k=at.parent(l),A=l[l.length-1];if(s||!Ye.void(e,{at:k})){var E,F=Object(c.a)(t);try{for(F.s();!(E=F.n()).done;){var N=E.value,D=k.concat(A);A++,e.apply({type:"insert_node",path:D,node:N}),l=at.next(l)}}catch(R){F.e(R)}finally{F.f()}if(l=at.previous(l),v){var C=Ye.end(e,l);C&&It.select(e,C)}}}}))},liftNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye.withoutNormalizing(e,(function(){var n=t.at,r=void 0===n?e.selection:n,o=t.mode,i=void 0===o?"lowest":o,s=t.voids,c=void 0!==s&&s,u=t.match;if(null==u&&(u=at.isPath(r)?Ct(e,r):function(t){return Ye.isBlock(e,t)}),r)for(var f=Ye.nodes(e,{at:r,match:u,mode:i,voids:c}),l=0,d=Array.from(f,(function(t){var n=Object(a.a)(t,2)[1];return Ye.pathRef(e,n)}));l<d.length;l++){var v=d[l].unref();if(v.length<2)throw new Error("Cannot lift node at a path [".concat(v,"] because it has a depth of less than `2`."));var h=Ye.node(e,at.parent(v)),p=Object(a.a)(h,2),g=p[0],b=p[1],m=v[v.length-1],y=g.children.length;if(1===y){var O=at.next(b);It.moveNodes(e,{at:v,to:O,voids:c}),It.removeNodes(e,{at:b,voids:c})}else if(0===m)It.moveNodes(e,{at:v,to:b,voids:c});else if(m===y-1){var j=at.next(b);It.moveNodes(e,{at:v,to:j,voids:c})}else{var w=at.next(v),x=at.next(b);It.splitNodes(e,{at:w,voids:c}),It.moveNodes(e,{at:v,to:x,voids:c})}}}))},mergeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye.withoutNormalizing(e,(function(){var n=t.match,r=t.at,o=void 0===r?e.selection:r,i=t.hanging,s=void 0!==i&&i,c=t.voids,u=void 0!==c&&c,f=t.mode,l=void 0===f?"lowest":f;if(o){if(null==n)if(at.isPath(o)){var d=Ye.parent(e,o),v=Object(a.a)(d,1)[0];n=function(e){return v.children.includes(e)}}else n=function(t){return Ye.isBlock(e,t)};if(!s&&ht.isRange(o)&&(o=Ye.unhangRange(e,o)),ht.isRange(o))if(ht.isCollapsed(o))o=o.anchor;else{var h=ht.edges(o),p=Object(a.a)(h,2)[1],g=Ye.pointRef(e,p);It.delete(e,{at:o}),o=g.unref(),null==t.at&&It.select(e,o)}var b=Ye.nodes(e,{at:o,match:n,voids:u,mode:l}),m=Object(a.a)(b,1)[0],y=Ye.previous(e,{at:o,match:n,voids:u,mode:l});if(m&&y){var O=Object(a.a)(m,2),j=O[0],w=O[1],x=Object(a.a)(y,2),P=x[0],k=x[1];if(0!==w.length&&0!==k.length){var A,E,F=at.next(k),N=at.common(w,k),D=at.isSibling(w,k),C=Array.from(Ye.levels(e,{at:w}),(function(e){return Object(a.a)(e,1)[0]})).slice(N.length).slice(0,-1),R=Ye.above(e,{at:w,mode:"highest",match:function(t){return C.includes(t)&&Nt(e,t)}}),_=R&&Ye.pathRef(e,R[1]);if(jt.isText(j)&&jt.isText(P)){var B=je(j,Pt);E=P.text.length,A=B}else{if(!Le.isElement(j)||!Le.isElement(P))throw new Error("Cannot merge the node at path [".concat(w,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(j)," ").concat(JSON.stringify(P)));B=je(j,kt);E=P.children.length,A=B}D||It.moveNodes(e,{at:w,to:F,voids:u}),_&&It.removeNodes(e,{at:_.current,voids:u}),Le.isElement(P)&&Ye.isEmpty(e,P)||jt.isText(P)&&""===P.text&&0!==k[k.length-1]?It.removeNodes(e,{at:k,voids:u}):e.apply({type:"merge_node",path:F,position:E,properties:A}),_&&_.unref()}}}}))},moveNodes:function(e,t){Ye.withoutNormalizing(e,(function(){var n=t.to,r=t.at,o=void 0===r?e.selection:r,i=t.mode,s=void 0===i?"lowest":i,c=t.voids,u=void 0!==c&&c,f=t.match;if(o){null==f&&(f=at.isPath(o)?Ct(e,o):function(t){return Ye.isBlock(e,t)});for(var l=Ye.pathRef(e,n),d=Ye.nodes(e,{at:o,match:f,mode:s,voids:u}),v=0,h=Array.from(d,(function(t){var n=Object(a.a)(t,2)[1];return Ye.pathRef(e,n)}));v<h.length;v++){var p=h[v].unref(),g=l.current;0!==p.length&&e.apply({type:"move_node",path:p,newPath:g}),l.current&&at.isSibling(g,p)&&at.isAfter(g,p)&&(l.current=at.next(l.current))}l.unref()}}))},removeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye.withoutNormalizing(e,(function(){var n=t.hanging,r=void 0!==n&&n,o=t.voids,i=void 0!==o&&o,s=t.mode,c=void 0===s?"lowest":s,u=t.at,f=void 0===u?e.selection:u,l=t.match;if(f){null==l&&(l=at.isPath(f)?Ct(e,f):function(t){return Ye.isBlock(e,t)}),!r&&ht.isRange(f)&&(f=Ye.unhangRange(e,f));for(var d=Ye.nodes(e,{at:f,match:l,mode:c,voids:i}),v=0,h=Array.from(d,(function(t){var n=Object(a.a)(t,2)[1];return Ye.pathRef(e,n)}));v<h.length;v++){var p=h[v].unref();if(p){var g=Ye.node(e,p),b=Object(a.a)(g,1)[0];e.apply({type:"remove_node",path:p,node:b})}}}}))},setNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ye.withoutNormalizing(e,(function(){var r=n.match,o=n.at,i=void 0===o?e.selection:o,s=n.hanging,u=void 0!==s&&s,f=n.mode,l=void 0===f?"lowest":f,d=n.split,v=void 0!==d&&d,h=n.voids,p=void 0!==h&&h;if(i){if(null==r&&(r=at.isPath(i)?Ct(e,i):function(t){return Ye.isBlock(e,t)}),!u&&ht.isRange(i)&&(i=Ye.unhangRange(e,i)),v&&ht.isRange(i)){if(ht.isCollapsed(i)&&Ye.leaf(e,i.anchor)[0].text.length>0)return;var g=Ye.rangeRef(e,i,{affinity:"inward"}),b=ht.edges(i),m=Object(a.a)(b,2),y=m[0],O=m[1],j="lowest"===l?"lowest":"highest",w=Ye.isEnd(e,O,O.path);It.splitNodes(e,{at:O,match:r,mode:j,voids:p,always:!w});var x=Ye.isStart(e,y,y.path);It.splitNodes(e,{at:y,match:r,mode:j,voids:p,always:!x}),i=g.unref(),null==n.at&&It.select(e,i)}var P,k=Object(c.a)(Ye.nodes(e,{at:i,match:r,mode:l,voids:p}));try{for(k.s();!(P=k.n()).done;){var A=Object(a.a)(P.value,2),E=A[0],F=A[1],N={},D={};if(0!==F.length){var C=!1;for(var R in t)"children"!==R&&"text"!==R&&t[R]!==E[R]&&(C=!0,E.hasOwnProperty(R)&&(N[R]=E[R]),null!=t[R]&&(D[R]=t[R]));C&&e.apply({type:"set_node",path:F,properties:N,newProperties:D})}}}catch(_){k.e(_)}finally{k.f()}}}))},splitNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye.withoutNormalizing(e,(function(){var n=t.mode,r=void 0===n?"lowest":n,o=t.voids,i=void 0!==o&&o,s=t.match,u=t.at,f=void 0===u?e.selection:u,l=t.height,d=void 0===l?0:l,v=t.always,h=void 0!==v&&v;if(null==s&&(s=function(t){return Ye.isBlock(e,t)}),ht.isRange(f)&&(f=Dt(e,f)),at.isPath(f)){var p=f,g=Ye.point(e,p),b=Ye.parent(e,p),m=Object(a.a)(b,1)[0];s=function(e){return e===m},d=g.path.length-p.length+1,f=g,h=!0}if(f){var y=Ye.pointRef(e,f,{affinity:"backward"}),O=Ye.nodes(e,{at:f,match:s,mode:r,voids:i}),j=Object(a.a)(O,1)[0];if(j){var w=Ye.void(e,{at:f,mode:"highest"});if(!i&&w){var x=Object(a.a)(w,2),P=x[0],k=x[1];if(Le.isElement(P)&&e.isInline(P)){var A=Ye.after(e,k);if(!A){var E=at.next(k);It.insertNodes(e,{text:""},{at:E,voids:i}),A=Ye.point(e,E)}f=A,h=!0}d=f.path.length-k.length+1,h=!0}var F,N=Ye.pointRef(e,f),D=f.path.length-d,C=Object(a.a)(j,2)[1],R=f.path.slice(0,D),_=0===d?f.offset:f.path[D]+0,B=Object(c.a)(Ye.levels(e,{at:R,reverse:!0,voids:i}));try{for(B.s();!(F=B.n()).done;){var S=Object(a.a)(F.value,2),T=S[0],q=S[1],I=!1;if(q.length<C.length||0===q.length||!i&&Ye.isVoid(e,T))break;var z=y.current,M=Ye.isEnd(e,z,q);if(h||!y||!Ye.isEdge(e,z,q)){I=!0;var W=nt.extractProps(T);e.apply({type:"split_node",path:q,position:_,properties:W})}_=q[q.length-1]+(I||M?1:0)}}catch(J){B.e(J)}finally{B.f()}if(null==t.at){var V=N.current||Ye.end(e,[]);It.select(e,V)}y.unref(),N.unref()}}}))},unsetNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r,o={},i=Object(c.a)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;o[a]=null}}catch(s){i.e(s)}finally{i.f()}It.setNodes(e,o,n)},unwrapNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye.withoutNormalizing(e,(function(){var n=t.mode,r=void 0===n?"lowest":n,o=t.split,i=void 0!==o&&o,s=t.voids,u=void 0!==s&&s,f=t.at,l=void 0===f?e.selection:f,d=t.match;if(l){null==d&&(d=at.isPath(l)?Ct(e,l):function(t){return Ye.isBlock(e,t)}),at.isPath(l)&&(l=Ye.range(e,l));var v,h=ht.isRange(l)?Ye.rangeRef(e,l):null,p=Ye.nodes(e,{at:l,match:d,mode:r,voids:u}),g=Array.from(p,(function(t){var n=Object(a.a)(t,2)[1];return Ye.pathRef(e,n)})).reverse(),b=function(t){var n=t.unref(),r=Ye.node(e,n),o=Object(a.a)(r,1)[0],s=Ye.range(e,n);i&&h&&(s=ht.intersection(h.current,s)),It.liftNodes(e,{at:s,match:function(e){return Le.isAncestor(o)&&o.children.includes(e)},voids:u})},m=Object(c.a)(g);try{for(m.s();!(v=m.n()).done;){b(v.value)}}catch(y){m.e(y)}finally{m.f()}h&&h.unref()}}))},wrapNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ye.withoutNormalizing(e,(function(){var r=n.mode,o=void 0===r?"lowest":r,i=n.split,s=void 0!==i&&i,c=n.voids,u=void 0!==c&&c,f=n.match,l=n.at,d=void 0===l?e.selection:l;if(d){if(null==f&&(f=at.isPath(d)?Ct(e,d):e.isInline(t)?function(t){return Ye.isInline(e,t)||jt.isText(t)}:function(t){return Ye.isBlock(e,t)}),s&&ht.isRange(d)){var v=ht.edges(d),h=Object(a.a)(v,2),p=h[0],g=h[1],b=Ye.rangeRef(e,d,{affinity:"inward"});It.splitNodes(e,{at:g,match:f,voids:u}),It.splitNodes(e,{at:p,match:f,voids:u}),d=b.unref(),null==n.at&&It.select(e,d)}for(var m=0,y=Array.from(Ye.nodes(e,{at:d,match:e.isInline(t)?function(t){return Ye.isBlock(e,t)}:function(e){return Ye.isEditor(e)},mode:"lowest",voids:u}));m<y.length;m++){var O=Object(a.a)(y[m],2)[1],j=ht.isRange(d)?ht.intersection(d,Ye.range(e,O)):d;if(j){var w=Array.from(Ye.nodes(e,{at:j,match:f,mode:o,voids:u}));if(w.length>0)if("continue"===function(){var n=w,r=Object(a.a)(n,1)[0],o=w[w.length-1],i=Object(a.a)(r,2)[1],s=Object(a.a)(o,2)[1];if(0===i.length&&0===s.length)return"continue";var c=at.equals(i,s)?at.parent(i):at.common(i,s),f=Ye.range(e,i,s),l=Ye.node(e,c),d=Object(a.a)(l,1)[0],v=c.length+1,h=at.next(s.slice(0,v)),p=Et(Et({},t),{},{children:[]});It.insertNodes(e,p,{at:h,voids:u}),It.moveNodes(e,{at:f,match:function(e){return Le.isAncestor(d)&&d.children.includes(e)},to:h.concat(0),voids:u})}())continue}}}}))}},Nt=function e(t,n){if(Le.isElement(n)){var r=n;return!!Ye.isVoid(t,n)||1===r.children.length&&e(t,r.children[0])}return!Ye.isEditor(n)},Dt=function(e,t){if(ht.isCollapsed(t))return t.anchor;var n=ht.edges(t),r=Object(a.a)(n,2)[1],o=Ye.pointRef(e,r);return It.delete(e,{at:t}),o.unref()},Ct=function(e,t){var n=Ye.node(e,t),r=Object(a.a)(n,1)[0];return function(e){return e===r}};function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt={collapse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.edge,r=void 0===n?"anchor":n,o=e.selection;if(o)if("anchor"===r)It.select(e,o.anchor);else if("focus"===r)It.select(e,o.focus);else if("start"===r){var i=ht.edges(o),s=Object(a.a)(i,1),c=s[0];It.select(e,c)}else if("end"===r){var u=ht.edges(o),f=Object(a.a)(u,2),l=f[1];It.select(e,l)}},deselect:function(e){var t=e.selection;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.selection,r=t.distance,o=void 0===r?1:r,i=t.unit,a=void 0===i?"character":i,s=t.reverse,c=void 0!==s&&s,u=t.edge,f=void 0===u?null:u;if(n){"start"===f&&(f=ht.isBackward(n)?"focus":"anchor"),"end"===f&&(f=ht.isBackward(n)?"anchor":"focus");var l=n.anchor,d=n.focus,v={distance:o,unit:a},h={};if(null==f||"anchor"===f){var p=c?Ye.before(e,l,v):Ye.after(e,l,v);p&&(h.anchor=p)}if(null==f||"focus"===f){var g=c?Ye.before(e,d,v):Ye.after(e,d,v);g&&(h.focus=g)}It.setSelection(e,h)}},select:function(e,t){var n=e.selection;if(t=Ye.range(e,t),n)It.setSelection(e,t);else{if(!ht.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})}},setPoint:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.selection,o=n.edge,i=void 0===o?"both":o;if(r){"start"===i&&(i=ht.isBackward(r)?"focus":"anchor"),"end"===i&&(i=ht.isBackward(r)?"anchor":"focus");var a=r.anchor,c=r.focus,u="anchor"===i?a:c;It.setSelection(e,Object(s.a)({},"anchor"===i?"anchor":"focus",_t(_t({},u),t)))}},setSelection:function(e,t){var n=e.selection,r={},o={};if(n){for(var i in t)("anchor"===i&&null!=t.anchor&&!ft.equals(t.anchor,n.anchor)||"focus"===i&&null!=t.focus&&!ft.equals(t.focus,n.focus)||"anchor"!==i&&"focus"!==i&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}}},St={delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye.withoutNormalizing(e,(function(){var n=t.reverse,r=void 0!==n&&n,o=t.unit,i=void 0===o?"character":o,s=t.distance,u=void 0===s?1:s,f=t.voids,l=void 0!==f&&f,d=t.at,v=void 0===d?e.selection:d,h=t.hanging,p=void 0!==h&&h;if(v){if(ht.isRange(v)&&ht.isCollapsed(v)&&(v=v.anchor),ft.isPoint(v)){var g=Ye.void(e,{at:v,mode:"highest"});if(!l&&g){v=Object(a.a)(g,2)[1]}else{var b={unit:i,distance:u};v={anchor:v,focus:r?Ye.before(e,v,b)||Ye.start(e,[]):Ye.after(e,v,b)||Ye.end(e,[])},p=!0}}if(at.isPath(v))It.removeNodes(e,{at:v,voids:l});else if(!ht.isCollapsed(v)){if(!p){var m=ht.edges(v),y=Object(a.a)(m,2)[1],O=Ye.end(e,[]);ft.equals(y,O)||(v=Ye.unhangRange(e,v,{voids:l}))}var j=ht.edges(v),w=Object(a.a)(j,2),x=w[0],P=w[1],k=Ye.above(e,{match:function(t){return Ye.isBlock(e,t)},at:x,voids:l}),A=Ye.above(e,{match:function(t){return Ye.isBlock(e,t)},at:P,voids:l}),E=k&&A&&!at.equals(k[1],A[1]),F=at.equals(x.path,P.path),N=l?null:Ye.void(e,{at:x,mode:"highest"}),D=l?null:Ye.void(e,{at:P,mode:"highest"});if(N){var C=Ye.before(e,x);C&&k&&at.isAncestor(k[1],C.path)&&(x=C)}if(D){var R=Ye.after(e,P);R&&A&&at.isAncestor(A[1],R.path)&&(P=R)}var _,B,S=[],T=Object(c.a)(Ye.nodes(e,{at:v,voids:l}));try{for(T.s();!(B=T.n()).done;){var q=B.value,I=q,z=Object(a.a)(I,2),M=z[0],W=z[1];_&&0===at.compare(W,_)||(!l&&Ye.isVoid(e,M)||!at.isCommon(W,x.path)&&!at.isCommon(W,P.path))&&(S.push(q),_=W)}}catch(se){T.e(se)}finally{T.f()}var V=Array.from(S,(function(t){var n=Object(a.a)(t,2)[1];return Ye.pathRef(e,n)})),J=Ye.pointRef(e,x),L=Ye.pointRef(e,P);if(!F&&!N){var K=J.current,G=Ye.leaf(e,K),U=Object(a.a)(G,1)[0],$=K.path,Q=x.offset,Y=U.text.slice(Q);Y.length>0&&e.apply({type:"remove_text",path:$,offset:Q,text:Y})}for(var Z=0,X=V;Z<X.length;Z++){var H=X[Z].unref();It.removeNodes(e,{at:H,voids:l})}if(!D){var ee=L.current,te=Ye.leaf(e,ee),ne=Object(a.a)(te,1)[0],re=ee.path,oe=F?x.offset:0,ie=ne.text.slice(oe,P.offset);ie.length>0&&e.apply({type:"remove_text",path:re,offset:oe,text:ie})}!F&&E&&L.current&&J.current&&It.mergeNodes(e,{at:L.current,hanging:!0,voids:l});var ae=r?J.unref()||L.unref():L.unref()||J.unref();null==t.at&&ae&&It.select(e,ae)}}}))},insertFragment:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ye.withoutNormalizing(e,(function(){var r=n.hanging,o=void 0!==r&&r,i=n.voids,s=void 0!==i&&i,u=n.at,f=void 0===u?e.selection:u;if(t.length&&f){if(ht.isRange(f))if(o||(f=Ye.unhangRange(e,f)),ht.isCollapsed(f))f=f.anchor;else{var l=ht.edges(f),d=Object(a.a)(l,2)[1];if(!s&&Ye.void(e,{at:d}))return;var v=Ye.pointRef(e,d);It.delete(e,{at:f}),f=v.unref()}else at.isPath(f)&&(f=Ye.start(e,f));if(s||!Ye.void(e,{at:f})){var h=Ye.above(e,{at:f,match:function(t){return Ye.isInline(e,t)},mode:"highest",voids:s});if(h){var p=Object(a.a)(h,2)[1];if(Ye.isEnd(e,f,p))f=Ye.after(e,p);else if(Ye.isStart(e,f,p)){f=Ye.before(e,p)}}var g,b=Ye.above(e,{match:function(t){return Ye.isBlock(e,t)},at:f,voids:s}),m=Object(a.a)(b,2)[1],y=Ye.isStart(e,f,m),O=Ye.isEnd(e,f,m),j=y&&O,w=!y||y&&O,x=!O,P=nt.first({children:t},[]),k=Object(a.a)(P,2)[1],A=nt.last({children:t},[]),E=Object(a.a)(A,2)[1],F=[],N=function(t){var n=Object(a.a)(t,2),r=n[0],o=n[1];return!(0===o.length)&&(!!j||!(w&&at.isAncestor(o,k)&&Le.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(x&&at.isAncestor(o,E)&&Le.isElement(r)&&!e.isVoid(r)&&!e.isInline(r)))},D=Object(c.a)(nt.nodes({children:t},{pass:N}));try{for(D.s();!(g=D.n()).done;){var C=g.value;N(C)&&F.push(C)}}catch(Z){D.e(Z)}finally{D.f()}for(var R=[],_=[],B=[],S=!0,T=!1,q=0,I=F;q<I.length;q++){var z=Object(a.a)(I[q],1)[0];Le.isElement(z)&&!e.isInline(z)?(S=!1,T=!0,_.push(z)):S?R.push(z):B.push(z)}var M=Ye.nodes(e,{at:f,match:function(t){return jt.isText(t)||Ye.isInline(e,t)},mode:"highest",voids:s}),W=Object(a.a)(M,1)[0],V=Object(a.a)(W,2)[1],J=Ye.isStart(e,f,V),L=Ye.isEnd(e,f,V),K=Ye.pathRef(e,O?at.next(m):m),G=Ye.pathRef(e,L?at.next(V):V),U=Ye.pathRef(e,m);It.splitNodes(e,{at:f,match:function(t){return T?Ye.isBlock(e,t):jt.isText(t)||Ye.isInline(e,t)},mode:T?"lowest":"highest",voids:s});var $=Ye.pathRef(e,!J||J&&L?at.next(V):V);if(It.insertNodes(e,R,{at:$.current,match:function(t){return jt.isText(t)||Ye.isInline(e,t)},mode:"highest",voids:s}),j&&_.length&&It.delete(e,{at:U.unref(),voids:s}),It.insertNodes(e,_,{at:K.current,match:function(t){return Ye.isBlock(e,t)},mode:"lowest",voids:s}),It.insertNodes(e,B,{at:G.current,match:function(t){return jt.isText(t)||Ye.isInline(e,t)},mode:"highest",voids:s}),!n.at){var Q;Q=B.length>0?at.previous(G.current):_.length>0?at.previous(K.current):at.previous($.current);var Y=Ye.end(e,Q);It.select(e,Y)}$.unref(),K.unref(),G.unref()}}}))},insertText:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ye.withoutNormalizing(e,(function(){var r=n.voids,o=void 0!==r&&r,i=n.at,a=void 0===i?e.selection:i;if(a){if(at.isPath(a)&&(a=Ye.range(e,a)),ht.isRange(a))if(ht.isCollapsed(a))a=a.anchor;else{var s=ht.end(a);if(!o&&Ye.void(e,{at:s}))return;var c=Ye.pointRef(e,s);It.delete(e,{at:a,voids:o}),a=c.unref(),It.setSelection(e,{anchor:a,focus:a})}if(o||!Ye.void(e,{at:a})){var u=a,f=u.path,l=u.offset;t.length>0&&e.apply({type:"insert_text",path:f,offset:l,text:t})}}}))}};function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It=qt(qt(qt(qt({},{transform:function(e,t){e.children=ce(e.children);var n=e.selection&&ce(e.selection);try{n=function(e,t,n){switch(n.type){case"insert_node":var r=n.path,o=n.node,s=nt.parent(e,r),u=r[r.length-1];if(u>s.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(s.children.splice(u,0,o),t){var f,l=Object(c.a)(ht.points(t));try{for(l.s();!(f=l.n()).done;){var d=Object(a.a)(f.value,2),v=d[0];t[d[1]]=ft.transform(v,n)}}catch(Le){l.e(Le)}finally{l.f()}}break;case"insert_text":var h=n.path,p=n.offset,g=n.text;if(0===g.length)break;var b=nt.leaf(e,h),m=b.text.slice(0,p),y=b.text.slice(p);if(b.text=m+g+y,t){var O,j=Object(c.a)(ht.points(t));try{for(j.s();!(O=j.n()).done;){var w=Object(a.a)(O.value,2),x=w[0];t[w[1]]=ft.transform(x,n)}}catch(Le){j.e(Le)}finally{j.f()}}break;case"merge_node":var P=n.path,k=nt.get(e,P),A=at.previous(P),E=nt.get(e,A),F=nt.parent(e,P),N=P[P.length-1];if(jt.isText(k)&&jt.isText(E))E.text+=k.text;else{if(jt.isText(k)||jt.isText(E))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(P,"] to nodes of different interfaces: ").concat(k," ").concat(E));var D;(D=E.children).push.apply(D,Object(i.a)(k.children))}if(F.children.splice(N,1),t){var C,R=Object(c.a)(ht.points(t));try{for(R.s();!(C=R.n()).done;){var _=Object(a.a)(C.value,2),B=_[0];t[_[1]]=ft.transform(B,n)}}catch(Le){R.e(Le)}finally{R.f()}}break;case"move_node":var S=n.path,T=n.newPath;if(at.isAncestor(S,T))throw new Error("Cannot move a path [".concat(S,"] to new path [").concat(T,"] because the destination is inside itself."));var q=nt.get(e,S),I=nt.parent(e,S),z=S[S.length-1];I.children.splice(z,1);var M=at.transform(S,n),W=nt.get(e,at.parent(M)),V=M[M.length-1];if(W.children.splice(V,0,q),t){var J,L=Object(c.a)(ht.points(t));try{for(L.s();!(J=L.n()).done;){var K=Object(a.a)(J.value,2),G=K[0];t[K[1]]=ft.transform(G,n)}}catch(Le){L.e(Le)}finally{L.f()}}break;case"remove_node":var U=n.path,$=U[U.length-1];if(nt.parent(e,U).children.splice($,1),t){var Q,Y=Object(c.a)(ht.points(t));try{for(Y.s();!(Q=Y.n()).done;){var Z=Object(a.a)(Q.value,2),X=Z[0],H=Z[1],ee=ft.transform(X,n);if(null!=t&&null!=ee)t[H]=ee;else{var te,ne=void 0,re=void 0,oe=Object(c.a)(nt.texts(e));try{for(oe.s();!(te=oe.n()).done;){var ie=Object(a.a)(te.value,2),ae=ie[0],se=ie[1];if(-1!==at.compare(se,U)){re=[ae,se];break}ne=[ae,se]}}catch(Le){oe.e(Le)}finally{oe.f()}var ce=!1;ne&&re&&(ce=at.equals(re[1],U)?!at.hasPrevious(re[1]):at.common(ne[1],U).length<at.common(re[1],U).length),ne&&!ce?(X.path=ne[1],X.offset=ne[0].text.length):re?(X.path=re[1],X.offset=0):t=null}}}catch(Le){Y.e(Le)}finally{Y.f()}}break;case"remove_text":var ue=n.path,fe=n.offset,le=n.text;if(0===le.length)break;var de=nt.leaf(e,ue),ve=de.text.slice(0,fe),he=de.text.slice(fe+le.length);if(de.text=ve+he,t){var pe,ge=Object(c.a)(ht.points(t));try{for(ge.s();!(pe=ge.n()).done;){var be=Object(a.a)(pe.value,2),me=be[0];t[be[1]]=ft.transform(me,n)}}catch(Le){ge.e(Le)}finally{ge.f()}}break;case"set_node":var ye=n.path,Oe=n.properties,je=n.newProperties;if(0===ye.length)throw new Error("Cannot set properties on the root node!");var we=nt.get(e,ye);for(var xe in je){if("children"===xe||"text"===xe)throw new Error('Cannot set the "'.concat(xe,'" property of nodes!'));var Pe=je[xe];null==Pe?delete we[xe]:we[xe]=Pe}for(var ke in Oe)je.hasOwnProperty(ke)||delete we[ke];break;case"set_selection":var Ae=n.newProperties;if(null==Ae)t=Ae;else{if(null==t){if(!ht.isRange(Ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(Ae)," when there is no current selection."));t=xt({},Ae)}for(var Ee in Ae){var Fe=Ae[Ee];if(null==Fe){if("anchor"===Ee||"focus"===Ee)throw new Error('Cannot remove the "'.concat(Ee,'" selection property'));delete t[Ee]}else t[Ee]=Fe}}break;case"split_node":var Ne=n.path,De=n.position,Ce=n.properties;if(0===Ne.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ne,"] because the root node cannot be split."));var Re,_e=nt.get(e,Ne),Be=nt.parent(e,Ne),Se=Ne[Ne.length-1];if(jt.isText(_e)){var Te=_e.text.slice(0,De),qe=_e.text.slice(De);_e.text=Te,Re=xt(xt({},Ce),{},{text:qe})}else{var Ie=_e.children.slice(0,De),ze=_e.children.slice(De);_e.children=Ie,Re=xt(xt({},Ce),{},{children:ze})}if(Be.children.splice(Se+1,0,Re),t){var Me,We=Object(c.a)(ht.points(t));try{for(We.s();!(Me=We.n()).done;){var Ve=Object(a.a)(Me.value,2),Je=Ve[0];t[Ve[1]]=ft.transform(Je,n)}}catch(Le){We.e(Le)}finally{We.f()}}}return t}(e,n,t)}finally{e.children=ue(e.children),e.selection=n?d(n)?ue(n):n:null}}}),Ft),Bt),St)}}]);
//# sourceMappingURL=0.6a21c0a8.chunk.js.map